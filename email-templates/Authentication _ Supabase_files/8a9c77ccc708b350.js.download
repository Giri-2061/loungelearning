;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="b31d2ca4-07ae-4741-db1e-e5d9fe815adf")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var a=e.i(478902),t=e.i(710483);let s=({resourceText:e,isFullPage:s=!1})=>{let r=()=>(0,a.jsx)(t.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return s?(0,a.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,a.jsx)("div",{className:"max-w-lg",children:(0,a.jsx)(r,{})})}):(0,a.jsx)(r,{})};e.s(["NoPermission",0,s,"default",0,s])},167892,e=>{"use strict";var a=e.i(478902),t=e.i(389959),s=e.i(843778);let r="mx-auto w-full max-w-[1200px]",n="px-4 @lg:px-6 @xl:px-10",i=(0,t.forwardRef)(({className:e,bottomPadding:t,size:r="default",...i},l)=>(0,a.jsx)("div",{ref:l,...i,className:(0,s.cn)("mx-auto w-full @container",{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}[r],n,t&&"pb-16",e)})),l=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("header",{...t,ref:r,className:(0,s.cn)("w-full","flex-col gap-3 py-6",e)})),c=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("h1",{ref:r,...t,className:(0,s.cn)(e)})),o=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,...t,className:(0,s.cn)("text-sm text-foreground-light",e)})),d=(0,t.forwardRef)(({className:e,isFullWidth:t,topPadding:r,...n},i)=>(0,a.jsx)("div",{ref:i,...n,className:(0,s.cn)("flex flex-col first:pt-12 py-6",t?"w-full":"gap-3 @md:grid-cols-12 @lg:grid",e)})),u=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("w-full h-px bg-border shrink-0",e)})),f=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("h3",{ref:r,...t,className:(0,s.cn)("text-foreground text-xl",e)})),m=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("p",{ref:r,...t,className:(0,s.cn)("text-sm text-foreground-light",e)})),h=(0,t.forwardRef)(({className:e,children:t,title:r,...n},i)=>(0,a.jsxs)("div",{ref:i,...n,className:(0,s.cn)("col-span-4 xl:col-span-5 prose text-sm",e),children:[r&&(0,a.jsx)("h2",{children:r}),t]})),x=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("col-span-8 xl:col-span-7","flex flex-col gap-6",e)})),p=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("flex flex-col gap-3 items-center",e)})),j=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("flex w-full items-center",e)})),g=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("flex flex-row gap-3",e)})),_=(0,t.forwardRef)(({className:e,...t},r)=>(0,a.jsx)("div",{ref:r,...t,className:(0,s.cn)("flex flex-col gap-3","min-w-[420px]",e)})),y=(0,t.forwardRef)(({className:e,...t},i)=>(0,a.jsx)("div",{ref:i,...t,className:(0,s.cn)(r,n,"my-8 flex flex-col gap-8",e)}));l.displayName="ScaffoldHeader",c.displayName="ScaffoldTitle",o.displayName="ScaffoldDescription",i.displayName="ScaffoldContainer",u.displayName="ScaffoldDivider",d.displayName="ScaffoldSection",_.displayName="ScaffoldColumn",h.displayName="ScaffoldSectionDetail",x.displayName="ScaffoldSectionContent",p.displayName="ScaffoldFilterAndContent",j.displayName="ScaffoldActionsContainer",g.displayName="ScaffoldActionsGroup",y.displayName="ScaffoldContainerLegacy",f.displayName="ScaffoldSectionTitle",m.displayName="ScaffoldSectionDescription",e.s(["MAX_WIDTH_CLASSES",0,r,"PADDING_CLASSES",0,n,"ScaffoldActionsContainer",0,j,"ScaffoldActionsGroup",0,g,"ScaffoldColumn",0,_,"ScaffoldContainer",0,i,"ScaffoldContainerLegacy",0,y,"ScaffoldDescription",0,o,"ScaffoldDivider",0,u,"ScaffoldFilterAndContent",0,p,"ScaffoldHeader",0,l,"ScaffoldSection",0,d,"ScaffoldSectionContent",0,x,"ScaffoldSectionDescription",0,m,"ScaffoldSectionDetail",0,h,"ScaffoldSectionTitle",0,f,"ScaffoldTitle",0,c])},3259,100387,e=>{"use strict";var a=e.i(478902),t=e.i(153545),s=e.i(933505);e.s(["ChevronRightIcon",()=>s.default],100387);var s=s,r=e.i(389959),n=e.i(843778);let i=r.forwardRef(({...e},t)=>(0,a.jsx)("nav",{ref:t,"aria-label":"breadcrumb",...e}));i.displayName="Breadcrumb";let l=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("ol",{ref:s,className:(0,n.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...t}));l.displayName="BreadcrumbList";let c=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("li",{ref:s,className:(0,n.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...t}));c.displayName="BreadcrumbItem";let o=r.forwardRef(({asChild:e,className:s,...r},i)=>{let l=e?t.Slot:"a";return(0,a.jsx)(l,{ref:i,className:(0,n.cn)("transition-colors underline lg:no-underline hover:text-foreground",s),...r})});o.displayName="BreadcrumbLink";let d=r.forwardRef(({className:e,...t},s)=>(0,a.jsx)("span",{ref:s,role:"link","aria-disabled":"true","aria-current":"page",className:(0,n.cn)("no-underline text-foreground",e),...t}));d.displayName="BreadcrumbPage";let u=({children:e,className:t,...r})=>(0,a.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,n.cn)("[&>svg]:size-3.5 text-foreground-muted",t),...r,children:e??(0,a.jsx)(s.default,{})});u.displayName="BreadcrumbSeparator";let f=({className:e,...t})=>(0,a.jsxs)("span",{className:(0,n.cn)("flex h-4 w-4 items-center justify-center",e),...t,children:[(0,a.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,a.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,a.jsx)("span",{className:"sr-only",children:"More"})]});f.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>i,"BreadcrumbEllipsis",()=>f,"BreadcrumbItem",()=>c,"BreadcrumbLink",()=>o,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var a=e.i(478902),t=e.i(938933),s=e.i(843778);function r({children:e,className:t,tag:s="div",style:r}){let n=`${s}`;return(0,a.jsx)(n,{style:r,children:e})}r.Title=function({className:e,level:t=1,children:s,style:r}){let n=`h${t}`;return(0,a.jsx)(n,{style:r,children:s})},r.Text=function({className:e,children:t,style:s,type:r,disabled:n,mark:i,code:l,keyboard:c,underline:o,strikethrough:d,strong:u,small:f}){return l?(0,a.jsx)("code",{style:s,children:t}):i?(0,a.jsx)("mark",{style:s,children:t}):c?(0,a.jsx)("kbd",{style:s,children:t}):u?(0,a.jsx)("strong",{style:s,children:t}):(0,a.jsx)("span",{style:s,children:t})},r.Link=function({children:e,target:t="_blank",href:s,className:r,onClick:n,style:i}){return(0,a.jsx)("a",{onClick:n,href:s,target:t,rel:"noopener noreferrer",style:i,children:e})},e.s(["default",0,r],418638);var n=e.i(389959);let i=(0,n.createContext)({type:"text"}),l=e=>{let{type:t}=e;return(0,a.jsx)(i.Provider,{value:{type:t},children:e.children})},c=()=>{let e=(0,n.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function o({children:e,className:t,ulClassName:s,style:r,type:n="text"}){return(0,a.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:t,style:r,children:(0,a.jsx)(l,{type:n,children:(0,a.jsx)("ul",{className:s,children:e})})})}o.Item=function({children:e,icon:r,active:n,rounded:i,onClick:l,doNotCloseOverlay:o=!1,showActiveBar:d=!1,style:u}){let f=(0,t.default)("menu"),{type:m}=c(),h=[f.item.base];h.push(f.item.variants[m].base),n?h.push(f.item.variants[m].active):h.push(f.item.variants[m].normal);let x=[f.item.content.base];n?x.push(f.item.content.active):x.push(f.item.content.normal);let p=[f.item.icon.base];return n?p.push(f.item.icon.active):p.push(f.item.icon.normal),(0,a.jsxs)("li",{role:"menuitem",className:(0,s.cn)("outline-none",h),style:u,onClick:l,"aria-current":n?"page":void 0,children:[r&&(0,a.jsx)("div",{className:`${p.join(" ")} min-w-fit`,children:r}),(0,a.jsx)("span",{className:x.join(" "),children:e})]})},o.Group=function({children:e,icon:s,title:r}){let n=(0,t.default)("menu"),{type:i}=c();return(0,a.jsxs)("div",{className:[n.group.base,n.group.variants[i]].join(" "),children:[s&&(0,a.jsx)("span",{className:n.group.icon,children:s}),(0,a.jsx)("span",{className:n.group.content,children:r}),e]})},o.Misc=function({children:e}){return(0,a.jsx)("div",{children:(0,a.jsx)(r.Text,{children:(0,a.jsx)("span",{children:e})})})},e.s(["default",0,o],744061)},862326,e=>{"use strict";var a=e.i(744061);e.s(["Menu",()=>a.default])},388147,799793,e=>{"use strict";var a=e.i(478902),t=e.i(587433),s=e.i(862326),r=e.i(215261),n=e.i(837710);let i=({name:e="",isActive:i,isExternal:l,icon:c,rightIcon:o,url:d="",target:u="_self",onClick:f,textClassName:m="",hoverText:h="",label:x})=>{let p=(0,a.jsx)(s.Menu.Item,{icon:c,rounded:!0,active:i,onClick:f,children:(0,a.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:h||("string"==typeof e?e:""),children:[(0,a.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==x&&(0,a.jsx)(t.Badge,{variant:"new"===x.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:x})]}),o&&(0,a.jsx)("div",{children:o})]})});return d?l?(0,a.jsx)(n.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:c,children:(0,a.jsx)(r.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,a.jsx)(r.default,{href:d,className:"block",target:u,children:p}):p};e.s(["default",0,i],799793),e.s(["ProductMenu",0,({page:e,menu:r})=>(0,a.jsx)("div",{className:"flex flex-col space-y-8",children:(0,a.jsx)(s.Menu,{type:"pills",children:r.map((n,l)=>(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"my-6 space-y-8",children:(0,a.jsxs)("div",{className:"mx-3",children:[(0,a.jsx)(s.Menu.Group,{title:n.title?(0,a.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,a.jsx)("span",{children:n.title}),n.isPreview&&(0,a.jsx)(t.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,a.jsx)("div",{children:n.items.map(t=>{let s=t.pages?t.pages.includes(e??""):e===t.key;return(0,a.jsx)(i,{url:t.url,name:t.name,icon:t.icon,rightIcon:t.rightIcon,isActive:s,isExternal:t.isExternal,target:t.isExternal?"_blank":"_self",label:t.label},t.key)})})]})}),l!==r.length-1&&(0,a.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},n.key||n.title))})})],388147)},127739,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),r=e.i(843778);let n=(0,t.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),i=(0,s.forwardRef)(({className:e,size:t,...s},i)=>(0,a.jsx)("div",{ref:i,...s,className:(0,r.cn)(n({size:t}),e)}));i.displayName="PageContainer",e.s(["PageContainer",0,i])},456050,e=>{"use strict";var a=e.i(478902),t=e.i(709520),s=e.i(389959),r=e.i(843778),n=e.i(3259),i=e.i(127739);let l=(0,t.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),c=(0,s.createContext)({size:"default"}),o=()=>(0,s.useContext)(c),d=({className:e,size:t,children:s,...n})=>{let i=t??"default";return(0,a.jsx)(c.Provider,{value:{size:i},children:(0,a.jsx)("div",{"data-slot":"page-header","data-size":i,className:(0,r.cn)(l({size:i}),e),...n,children:s})})},u=({className:e,children:t,...s})=>{let{size:l}=o();return(0,a.jsx)(i.PageContainer,{size:l,children:(0,a.jsx)(n.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,r.cn)("flex items-center gap-4 [&_li]:text-xs",e),...s,children:t})})};u.displayName="PageHeaderBreadcrumb";let f=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-icon",className:(0,r.cn)("text-foreground-light",e),...t});f.displayName="PageHeaderIcon";let m=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-summary",className:(0,r.cn)("flex flex-col gap-1",e),...s,children:t});m.displayName="PageHeaderSummary";let h=({className:e,children:t,...s})=>(0,a.jsx)("h1",{"data-slot":"page-header-title",className:(0,r.cn)("heading-title",e),...s,children:t}),x=({className:e,children:t,...s})=>(0,a.jsx)("div",{"data-slot":"page-header-description",className:(0,r.cn)("heading-subSection text-foreground-light",e),...s,children:t}),p=({className:e,children:t,...s})=>{let{size:n}=o();return(0,a.jsx)(i.PageContainer,{size:n,children:(0,a.jsx)("div",{"data-slot":"page-header-meta",className:(0,r.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...s,children:t})})};p.displayName="PageHeaderMeta";let j=({className:e,...t})=>(0,a.jsx)("div",{"data-slot":"page-header-actions",className:(0,r.cn)("flex items-center gap-2 shrink-0",e),...t});j.displayName="PageHeaderAside";let g=({className:e,...t})=>{let{size:s}=o();return(0,a.jsx)(i.PageContainer,{size:s,className:(0,r.cn)("full"===s&&"border-b"),children:(0,a.jsx)("div",{"data-slot":"page-header-footer",className:(0,r.cn)("w-full [&>nav]:border-b-0","full"!==s&&"border-b",e),...t})})};g.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>j,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>x,"PageHeaderIcon",()=>f,"PageHeaderMeta",()=>p,"PageHeaderNavigationTabs",()=>g,"PageHeaderSummary",()=>m,"PageHeaderTitle",()=>h])},902780,e=>{"use strict";var a=e.i(478902),t=e.i(215261),s=e.i(837710),r=e.i(843778),n=e.i(710483);e.s(["UnknownInterface",0,({urlBack:e,fullHeight:i=!0})=>(0,a.jsx)("div",{className:(0,r.cn)("w-full flex items-center justify-center",i&&"h-full"),children:(0,a.jsx)(n.Admonition,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for",children:(0,a.jsx)(s.Button,{asChild:!0,type:"default",className:"mt-2",children:(0,a.jsx)(t.default,{href:e,children:"Head back"})})})})])},14703,e=>{"use strict";var a=e.i(242882),t=e.i(356003),s=e.i(234745),r=e.i(10429),n=e.i(389959),i=e.i(294285);async function l({projectRef:e},a){if(!e)throw Error("projectRef is required");let{data:t,error:r}=await (0,s.get)("/platform/auth/{ref}/config",{params:{path:{ref:e}},signal:a});return r&&(0,s.handleError)(r),t}e.s(["getProjectAuthConfig",()=>l,"useAuthConfigPrefetch",0,({projectRef:e})=>{let a=(0,t.useQueryClient)();return(0,n.useCallback)(()=>{e&&a.prefetchQuery({queryKey:i.authKeys.authConfig(e),queryFn:({signal:a})=>l({projectRef:e},a)})},[a,e])},"useAuthConfigQuery",0,({projectRef:e},{enabled:t=!0,...s}={})=>(0,a.useQuery)({queryKey:i.authKeys.authConfig(e),queryFn:({signal:a})=>l({projectRef:e},a),enabled:t&&r.IS_PLATFORM&&void 0!==e,...s})])},785951,e=>{"use strict";var a=e.i(478902),t=e.i(898452);e.i(128328);var s=e.i(657588),r=e.i(158639),n=e.i(388147),i=e.i(14703),l=e.i(912793),c=e.i(951138),o=e.i(825713),d=e.i(887902);let u=()=>{let e=(0,t.useRouter)(),{ref:c="default"}=(0,r.useParams)(),o=(0,s.useFlag)("authOverviewPage"),u=(0,s.useFlag)("EnableOAuth21"),{authenticationSignInProviders:f,authenticationRateLimits:m,authenticationEmails:h,authenticationMultiFactor:x,authenticationAttackProtection:p,authenticationPerformance:j}=(0,l.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);(0,i.useAuthConfigPrefetch)({projectRef:c});let g=e.pathname.split("/")[4];return(0,a.jsx)(n.ProductMenu,{page:g,menu:(0,d.generateAuthMenu)(c,{authenticationSignInProviders:f,authenticationRateLimits:m,authenticationEmails:h,authenticationMultiFactor:x,authenticationAttackProtection:p,authenticationShowOverview:o,authenticationOauth21:u,authenticationPerformance:j})})},f=(0,c.withAuth)(({children:e})=>(0,a.jsx)(o.ProjectLayout,{title:"Authentication",product:"Authentication",productMenu:(0,a.jsx)(u,{}),isBlocking:!1,children:e}));e.s(["default",0,f])},309233,e=>{"use strict";var a=e.i(38429),t=e.i(356003),s=e.i(355901),r=e.i(234745),n=e.i(915993),i=e.i(294285);async function l({projectRef:e,config:a}){let{data:t,error:s}=await (0,r.patch)("/platform/auth/{ref}/config",{params:{path:{ref:e}},body:{...a}});return s&&(0,r.handleError)(s),t}e.s(["useAuthConfigUpdateMutation",0,({onSuccess:e,onError:r,...c}={})=>{let o=(0,t.useQueryClient)();return(0,a.useMutation)({mutationFn:e=>l(e),async onSuccess(a,t,s){let{projectRef:r}=t;await Promise.all([o.invalidateQueries({queryKey:i.authKeys.authConfig(r)}),o.invalidateQueries({queryKey:n.lintKeys.lint(r)})]),await e?.(a,t,s)},async onError(e,a,t){void 0===r?s.toast.error(`Failed to update auth configuration: ${e.message}`):r(e,a,t)},...c})}])},372378,e=>{"use strict";var a=e.i(478902),t=e.i(389959),s=e.i(843778);let r=(0,t.forwardRef)(({preTab:e,postTab:t,children:r,className:n,...i},l)=>(0,a.jsxs)("div",{ref:l,...i,className:(0,s.cn)("flex -space-x-px",n),children:[e&&(0,a.jsx)("div",{className:"border border-strong bg-surface-300 rounded-l-md px-3 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:e})}),(0,a.jsx)("div",{className:(0,s.cn)("flex-1",{"[&_input]:rounded-l-none [&_select]:rounded-l-none [&_textarea]:rounded-l-none":!!e,"[&_input]:rounded-r-none [&_select]:rounded-r-none [&_textarea]:rounded-r-none":!!t}),children:r}),t&&(0,a.jsx)("div",{className:"border border-strong bg-surface-300 rounded-r-md px-3 flex items-center justify-center",children:(0,a.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:t})})]}));e.s(["PrePostTab",0,r])},598792,e=>{"use strict";var a=e.i(242882),t=e.i(714403),s=e.i(246230);async function r({projectRef:e,connectionString:a},s){let{result:r}=await (0,t.executeSql)({projectRef:e,connectionString:a,sql:"show max_connections",queryKey:["max-connections"]},s);return{maxConnections:parseInt(r[0].max_connections)}}e.s(["useMaxConnectionsQuery",0,({projectRef:e,connectionString:t},{enabled:n=!0,...i}={})=>(0,a.useQuery)({queryKey:s.databaseKeys.maxConnections(e),queryFn:({signal:a})=>r({projectRef:e,connectionString:t},a),enabled:n&&void 0!==e,...i})])},42081,e=>{"use strict";let a="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>a])},672296,e=>{"use strict";function a(e){return e.split("#")[0]}function t(e,a={}){let{maxDepth:s=3,redaction:r="[REDACTED]",truncationNotice:n="[REDACTED: max depth reached]",sensitiveKeys:i=[]}=a,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...i].map(e=>e.toLowerCase())),c=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],o=new WeakMap;function d(e){let a=e;for(let{re:e}of c)a=a.replace(e,r);return a}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(a,t){if(null==a||"number"==typeof a||"boolean"==typeof a||"bigint"==typeof a)return a;if("string"==typeof a)return d(a);if("function"==typeof a)return"[Function]";if(a instanceof Date)return a.toISOString();if(a instanceof RegExp)return a.toString();if(ArrayBuffer.isView(a)&&!(a instanceof DataView))return`[TypedArray byteLength=${a.byteLength}]`;if(a instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${a.byteLength}]`;if(t>=s)return n;if("object"==typeof a){if(o.has(a))return"[Circular]";if(Array.isArray(a)){let s=[];o.set(a,s);for(let r=0;r<a.length;r++)s[r]=e(a[r],t+1);return s}if(function(e){if(null===e||"object"!=typeof e)return!1;let a=Object.getPrototypeOf(e);return a===Object.prototype||null===a}(a)){let s={};for(let[n,i]of(o.set(a,s),Object.entries(a)))u(n)?s[n]=r:s[n]=e(i,t+1);return s}if(a instanceof Map){let s=[];for(let[n,i]of(o.set(a,s),a.entries())){let a=u(n)?r:e(n,t+1),l=u(n)?r:e(i,t+1);s.push([a,l])}return s}if(a instanceof Set){let s=[];for(let r of(o.set(a,s),a.values()))s.push(e(r,t+1));return s}if(a instanceof URL)return a.toString();if(a instanceof Error){let e={name:a.name,message:d(a.message),stack:n};return o.set(a,e),e}try{return d(String(a))}catch{return d(Object.prototype.toString.call(a))}}return d(String(a))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>t,"sanitizeUrlHashParams",()=>a])},705418,e=>{"use strict";var a=e.i(478902),t=e.i(902858);e.i(128328);var s=e.i(158639),r=e.i(532728),n=e.i(389959),i=e.i(408891),l=e.i(355901),c=e.i(531837),o=e.i(167892),d=e.i(567558),u=e.i(693241),f=e.i(235458),m=e.i(14703),h=e.i(309233),x=e.i(598792),p=e.i(2579),j=e.i(265735),g=e.i(635494),_=e.i(10429),y=e.i(837710),v=e.i(627069),b=e.i(428353),S=e.i(24315),P=e.i(61863),N=e.i(378277),A=e.i(372378),w=e.i(449123),C=e.i(451031),k=e.i(831927),I=e.i(156722),E=e.i(719754),M=e.i(108151),O=e.i(538482);let T=c.object({API_MAX_REQUEST_DURATION:c.coerce.number().min(5,"Must be 5 or larger").max(30,"Must be a value no greater than 30"),DB_MAX_POOL_SIZE:c.coerce.number().min(1),DB_MAX_POOL_SIZE_UNIT:c.enum(["percent","connections"])}),B=()=>{let{data:e}=(0,g.useSelectedProjectQuery)(),{data:s}=(0,j.useSelectedOrganizationQuery)(),{can:B}=(0,p.useAsyncCheckPermissions)(t.PermissionAction.READ,"custom_config_gotrue"),{can:D}=(0,p.useAsyncCheckPermissions)(t.PermissionAction.UPDATE,"custom_config_gotrue"),[R,L]=(0,n.useState)(!1),[F,U]=(0,n.useState)(!1),{data:X,error:Z,isError:z,isLoading:H}=(0,m.useAuthConfigQuery)({projectRef:e?.ref}),{data:Q,isLoading:q}=(0,x.useMaxConnectionsQuery)({projectRef:e?.ref,connectionString:e?.connectionString}),K=Q?.maxConnections??60,W=s?.plan.id!=="free",G=_.IS_PLATFORM&&!W,{mutate:V,isPending:$}=(0,h.useAuthConfigUpdateMutation)(),Y=(0,i.useForm)({resolver:(0,r.zodResolver)(c.object({API_MAX_REQUEST_DURATION:T.shape.API_MAX_REQUEST_DURATION})),defaultValues:{API_MAX_REQUEST_DURATION:10}}),J=(0,i.useForm)({resolver:(0,r.zodResolver)(c.object({DB_MAX_POOL_SIZE:T.shape.DB_MAX_POOL_SIZE,DB_MAX_POOL_SIZE_UNIT:T.shape.DB_MAX_POOL_SIZE_UNIT})),defaultValues:{DB_MAX_POOL_SIZE:10,DB_MAX_POOL_SIZE_UNIT:"connections"}}),ee=J.watch("DB_MAX_POOL_SIZE_UNIT");return((0,n.useEffect)(()=>{X&&(R||Y.reset({API_MAX_REQUEST_DURATION:X?.API_MAX_REQUEST_DURATION??10}),F||J.reset({DB_MAX_POOL_SIZE:X?.DB_MAX_POOL_SIZE!==null?X?.DB_MAX_POOL_SIZE??10:10,DB_MAX_POOL_SIZE_UNIT:X?.DB_MAX_POOL_SIZE_UNIT!==null?X?.DB_MAX_POOL_SIZE_UNIT:"connections"}))},[X,R,F]),z)?(0,a.jsx)(o.ScaffoldSection,{isFullWidth:!0,children:(0,a.jsx)(d.default,{error:Z,subject:"Failed to retrieve auth configuration"})}):B?H?(0,a.jsx)(o.ScaffoldSection,{isFullWidth:!0,children:(0,a.jsx)(M.GenericSkeletonLoader,{})}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o.ScaffoldSection,{isFullWidth:!0,children:G&&(0,a.jsx)(f.UpgradeToPro,{source:"authPerformance",featureProposition:"configure advanced Auth server settings",primaryText:"Configuring Auth server performance is only available on the Pro plan and above",secondaryText:"Upgrade to the Pro plan to configure settings for your Auth server"})}),(0,a.jsxs)(o.ScaffoldSection,{isFullWidth:!0,children:[(0,a.jsx)(o.ScaffoldSectionTitle,{className:"mb-4",children:"Request Duration"}),(0,a.jsx)(b.Form_Shadcn_,{...Y,children:(0,a.jsx)("form",{onSubmit:Y.handleSubmit(a=>{if(!e?.ref)return console.error("Project ref is required");W&&(L(!0),V({projectRef:e?.ref,config:a},{onError:e=>{l.toast.error(`Failed to update request duration settings: ${e?.message}`),L(!1)},onSuccess:()=>{l.toast.success("Successfully updated request duration settings"),L(!1)}}))}),children:(0,a.jsxs)(v.Card,{children:[(0,a.jsx)(v.CardContent,{className:"pt-6",children:(0,a.jsx)(P.FormField_Shadcn_,{control:Y.control,name:"API_MAX_REQUEST_DURATION",render:({field:e})=>(0,a.jsx)(O.FormItemLayout,{layout:"flex-row-reverse",label:"Maximum allowed duration for an Auth request",description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Requests that exceed this time limit will be terminated. Used to manage server load."}),(0,a.jsx)("p",{children:"We recommend a minimum of 10 seconds."})]}),children:(0,a.jsx)(S.FormControl_Shadcn_,{children:(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(A.PrePostTab,{postTab:"seconds",children:(0,a.jsx)(N.Input_Shadcn_,{type:"number",min:5,max:30,...e,disabled:!D||G})})})})})})}),(0,a.jsxs)(v.CardFooter,{className:"justify-end space-x-2",children:[Y.formState.isDirty&&(0,a.jsx)(y.Button,{type:"default",onClick:()=>Y.reset(),children:"Cancel"}),(0,a.jsx)(y.Button,{type:"primary",htmlType:"submit",disabled:!D||R||!Y.formState.isDirty||G,loading:R,children:"Save changes"})]})]})})})]}),(0,a.jsxs)(o.ScaffoldSection,{isFullWidth:!0,children:[(0,a.jsx)(o.ScaffoldSectionTitle,{className:"mb-4",children:"Connection Management"}),(0,a.jsx)(b.Form_Shadcn_,{...J,children:(0,a.jsx)("form",{onSubmit:J.handleSubmit(a=>{if(!e?.ref)return console.error("Project ref is required");U(!0);let t={DB_MAX_POOL_SIZE:a.DB_MAX_POOL_SIZE,DB_MAX_POOL_SIZE_UNIT:a.DB_MAX_POOL_SIZE_UNIT};V({projectRef:e?.ref,config:t},{onError:e=>{U(!1)},onSuccess:()=>{l.toast.success("Successfully updated connection settings"),U(!1)}})}),className:"space-y-4",children:(0,a.jsxs)(v.Card,{children:[(0,a.jsxs)(v.CardContent,{className:"pt-6 flex flex-col gap-4",children:[(0,a.jsx)(P.FormField_Shadcn_,{control:J.control,name:"DB_MAX_POOL_SIZE_UNIT",render:({field:e})=>(0,a.jsx)(O.FormItemLayout,{layout:"flex-row-reverse",label:"Allocation strategy",description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Choose to allocate a percentage or an absolute number of connections to the Auth server."}),(0,a.jsx)("p",{children:"We recommend a percentage strategy as it grows with your instance size."})]}),children:(0,a.jsx)(S.FormControl_Shadcn_,{children:(0,a.jsxs)(w.Select_Shadcn_,{value:e.value,onValueChange:a=>{let t=J.getValues();if(e.onChange(a),t.DB_MAX_POOL_SIZE_UNIT!==a){let e,s=t.DB_MAX_POOL_SIZE;e="percent"===a?Math.ceil(Math.min(K,s)/K*100):Math.floor(Math.min(100,s)/100*K),J.setValue("DB_MAX_POOL_SIZE",e)}},children:[(0,a.jsx)(I.SelectTrigger_Shadcn_,{size:"small",disabled:!D||G,children:(0,a.jsx)(E.SelectValue_Shadcn_,{children:"percent"===e.value?"Percentage":"Absolute"})}),(0,a.jsxs)(C.SelectContent_Shadcn_,{align:"end",children:[(0,a.jsx)(k.SelectItem_Shadcn_,{value:"connections",className:"text-xs",children:"Absolute number of connections"}),(0,a.jsx)(k.SelectItem_Shadcn_,{value:"percent",className:"text-xs",children:"Percent of max connections"})]})]})})})}),(0,a.jsx)(P.FormField_Shadcn_,{control:J.control,name:"DB_MAX_POOL_SIZE",render:({field:e})=>(0,a.jsx)(O.FormItemLayout,{layout:"flex-row-reverse",label:"Maximum connections",description:(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("p",{children:"Maximum number of connections that the Auth server will take up under highest load."}),(0,a.jsxs)("p",{children:[(0,a.jsx)("em",{className:"text-brand !not-italic",children:"Connections are not reserved"})," ","and returned to Postgres a few minutes after being idle."]})]}),children:(0,a.jsx)(S.FormControl_Shadcn_,{children:(0,a.jsxs)("div",{className:"flex flex-col gap-2",children:[(0,a.jsx)("div",{className:"relative",children:(0,a.jsx)(A.PrePostTab,{postTab:"percent"===ee?"%":"connections",children:(0,a.jsx)(N.Input_Shadcn_,{type:"number",...e,min:3,max:"percent"===ee?80:Math.floor(.8*K),disabled:!D||G})})}),q?(0,a.jsx)(M.ShimmeringLoader,{className:"py-2 w-16 ml-auto"}):(0,a.jsxs)("div",{className:"text-xs text-muted w-full text-end",children:[(0,a.jsx)("span",{className:"text-brand",children:"percent"===ee?Math.floor(K*(Math.min(100,e.value)/100)).toString():Math.min(K,e.value)})," ","/ ",K," max"]})]})})})})]}),(0,a.jsxs)(v.CardFooter,{className:"justify-end space-x-2",children:[J.formState.isDirty&&(0,a.jsx)(y.Button,{type:"default",onClick:()=>J.reset(),children:"Cancel"}),(0,a.jsx)(y.Button,{type:"primary",htmlType:"submit",disabled:!D||F||!J.formState.isDirty,loading:F,children:"Save changes"})]})]})})})]})]}):(0,a.jsx)(o.ScaffoldSection,{isFullWidth:!0,children:(0,a.jsx)(u.default,{resourceText:"view auth configuration settings"})})};var D=e.i(785951),R=e.i(448710),L=e.i(902780),F=e.i(912793),U=e.i(127739),X=e.i(456050),Z=e.i(228027);let z=()=>{let{ref:e}=(0,s.useParams)(),r=(0,F.useIsFeatureEnabled)("authentication:performance"),{can:n,isSuccess:i}=(0,p.useAsyncCheckPermissions)(t.PermissionAction.READ,"custom_config_gotrue");return r?i&&!n?(0,a.jsx)(u.default,{isFullPage:!0,resourceText:"access your project's authentication settings"}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(X.PageHeader,{size:"default",children:(0,a.jsx)(X.PageHeaderMeta,{children:(0,a.jsxs)(X.PageHeaderSummary,{children:[(0,a.jsx)(X.PageHeaderTitle,{children:"Performance"}),(0,a.jsx)(X.PageHeaderDescription,{children:"Configure settings to optimize your Auth server's performance"})]})})}),(0,a.jsx)(U.PageContainer,{size:"default",children:i?(0,a.jsx)(B,{}):(0,a.jsx)(Z.PageSection,{children:(0,a.jsx)(Z.PageSectionContent,{children:(0,a.jsx)(M.GenericSkeletonLoader,{})})})})]}):(0,a.jsx)(L.UnknownInterface,{urlBack:`/project/${e}/auth/providers`})};z.getLayout=e=>(0,a.jsx)(R.default,{children:(0,a.jsx)(D.default,{children:e})}),e.s(["default",0,z],705418)},261454,(e,a,t)=>{let s="/project/[ref]/auth/performance";(window.__NEXT_P=window.__NEXT_P||[]).push([s,()=>e.r(705418)]),a.hot&&a.hot.dispose(function(){window.__NEXT_P.push([s])})},111410,e=>{e.v(a=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(a=>e.l(a))).then(()=>a(677146)))},883471,e=>{e.v(a=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(a=>e.l(a))).then(()=>a(518769)))},587525,e=>{e.v(a=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(a=>e.l(a))).then(()=>a(127351)))},168845,e=>{e.v(a=>Promise.all(["static/chunks/99714db866f77205.js"].map(a=>e.l(a))).then(()=>a(238625)))},591393,e=>{e.v(a=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(a=>e.l(a))).then(()=>a(217383)))},379416,e=>{e.v(a=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(a=>e.l(a))).then(()=>a(931066)))},15732,e=>{e.v(a=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(a=>e.l(a))).then(()=>a(760545)))},957083,e=>{e.v(a=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(a=>e.l(a))).then(()=>a(667558)))},926327,e=>{e.v(a=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(a=>e.l(a))).then(()=>a(72947)))},207969,e=>{e.v(a=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(a=>e.l(a))).then(()=>a(427328)))},992842,e=>{e.v(a=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(a=>e.l(a))).then(()=>a(793794)))},239573,e=>{e.v(a=>Promise.all(["static/chunks/edc5d84148401903.js"].map(a=>e.l(a))).then(()=>a(210246)))},963685,e=>{e.v(a=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(a=>e.l(a))).then(()=>a(983756)))},665811,e=>{e.v(a=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(a=>e.l(a))).then(()=>a(544836)))},369256,e=>{e.v(a=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(a=>e.l(a))).then(()=>a(930239)))},16037,e=>{e.v(a=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(a=>e.l(a))).then(()=>a(397698)))},616788,e=>{e.v(a=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(a=>e.l(a))).then(()=>a(7346)))},315750,e=>{e.v(a=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(a=>e.l(a))).then(()=>a(531289)))},460510,e=>{e.v(a=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(a=>e.l(a))).then(()=>a(276898)))},550265,e=>{e.v(a=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(a=>e.l(a))).then(()=>a(259714)))},830960,e=>{e.v(a=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(a=>e.l(a))).then(()=>a(882885)))},336744,e=>{e.v(a=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(a=>e.l(a))).then(()=>a(955268)))},63631,e=>{e.v(a=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(a=>e.l(a))).then(()=>a(853630)))},396476,e=>{e.v(a=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(a=>e.l(a))).then(()=>a(62943)))},912072,e=>{e.v(a=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(a=>e.l(a))).then(()=>a(311301)))},730314,e=>{e.v(a=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/293ae4c32f2932e0.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(a=>e.l(a))).then(()=>a(686651)))},753940,e=>{e.v(a=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(a=>e.l(a))).then(()=>a(478124)))},724565,e=>{e.v(a=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(a=>e.l(a))).then(()=>a(341546)))}]);

//# debugId=b31d2ca4-07ae-4741-db1e-e5d9fe815adf
//# sourceMappingURL=edcc00309de39028.js.map