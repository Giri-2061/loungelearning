;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="f56668cd-6f95-8e35-97de-9fbb410cd4ba")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,693241,e=>{"use strict";var t=e.i(478902),a=e.i(710483);let r=({resourceText:e,isFullPage:r=!1})=>{let n=()=>(0,t.jsx)(a.Admonition,{type:"warning",title:`You need additional permissions to ${e}`,description:"Contact your organization owner or administrator for assistance."});return r?(0,t.jsx)("div",{className:"flex h-full items-center justify-center",children:(0,t.jsx)("div",{className:"max-w-lg",children:(0,t.jsx)(n,{})})}):(0,t.jsx)(n,{})};e.s(["NoPermission",0,r,"default",0,r])},3259,100387,e=>{"use strict";var t=e.i(478902),a=e.i(153545),r=e.i(933505);e.s(["ChevronRightIcon",()=>r.default],100387);var r=r,n=e.i(389959),s=e.i(843778);let i=n.forwardRef(({...e},a)=>(0,t.jsx)("nav",{ref:a,"aria-label":"breadcrumb",...e}));i.displayName="Breadcrumb";let l=n.forwardRef(({className:e,...a},r)=>(0,t.jsx)("ol",{ref:r,className:(0,s.cn)("flex flex-wrap items-center gap-0.5 break-words text-sm text-muted-foreground sm:gap-1.5",e),...a}));l.displayName="BreadcrumbList";let o=n.forwardRef(({className:e,...a},r)=>(0,t.jsx)("li",{ref:r,className:(0,s.cn)("inline-flex text-foreground-lighter items-center gap-1.5 leading-5",e),...a}));o.displayName="BreadcrumbItem";let c=n.forwardRef(({asChild:e,className:r,...n},i)=>{let l=e?a.Slot:"a";return(0,t.jsx)(l,{ref:i,className:(0,s.cn)("transition-colors underline lg:no-underline hover:text-foreground",r),...n})});c.displayName="BreadcrumbLink";let d=n.forwardRef(({className:e,...a},r)=>(0,t.jsx)("span",{ref:r,role:"link","aria-disabled":"true","aria-current":"page",className:(0,s.cn)("no-underline text-foreground",e),...a}));d.displayName="BreadcrumbPage";let u=({children:e,className:a,...n})=>(0,t.jsx)("li",{role:"presentation","aria-hidden":"true",className:(0,s.cn)("[&>svg]:size-3.5 text-foreground-muted",a),...n,children:e??(0,t.jsx)(r.default,{})});u.displayName="BreadcrumbSeparator";let h=({className:e,...a})=>(0,t.jsxs)("span",{className:(0,s.cn)("flex h-4 w-4 items-center justify-center",e),...a,children:[(0,t.jsx)("svg",{role:"presentation","aria-hidden":"true",width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,t.jsx)("path",{d:"M3.625 7.5C3.625 8.12132 3.12132 8.625 2.5 8.625C1.87868 8.625 1.375 8.12132 1.375 7.5C1.375 6.87868 1.87868 6.375 2.5 6.375C3.12132 6.375 3.625 6.87868 3.625 7.5ZM8.625 7.5C8.625 8.12132 8.12132 8.625 7.5 8.625C6.87868 8.625 6.375 8.12132 6.375 7.5C6.375 6.87868 6.87868 6.375 7.5 6.375C8.12132 6.375 8.625 6.87868 8.625 7.5ZM12.5 8.625C13.1213 8.625 13.625 8.12132 13.625 7.5C13.625 6.87868 13.1213 6.375 12.5 6.375C11.8787 6.375 11.375 6.87868 11.375 7.5C11.375 8.12132 11.8787 8.625 12.5 8.625Z",fill:"currentColor",fillRule:"evenodd",clipRule:"evenodd"})}),(0,t.jsx)("span",{className:"sr-only",children:"More"})]});h.displayName="BreadcrumbEllipsis",e.s(["Breadcrumb",()=>i,"BreadcrumbEllipsis",()=>h,"BreadcrumbItem",()=>o,"BreadcrumbLink",()=>c,"BreadcrumbList",()=>l,"BreadcrumbPage",()=>d,"BreadcrumbSeparator",()=>u],3259)},744061,418638,e=>{"use strict";var t=e.i(478902),a=e.i(938933),r=e.i(843778);function n({children:e,className:a,tag:r="div",style:n}){let s=`${r}`;return(0,t.jsx)(s,{style:n,children:e})}n.Title=function({className:e,level:a=1,children:r,style:n}){let s=`h${a}`;return(0,t.jsx)(s,{style:n,children:r})},n.Text=function({className:e,children:a,style:r,type:n,disabled:s,mark:i,code:l,keyboard:o,underline:c,strikethrough:d,strong:u,small:h}){return l?(0,t.jsx)("code",{style:r,children:a}):i?(0,t.jsx)("mark",{style:r,children:a}):o?(0,t.jsx)("kbd",{style:r,children:a}):u?(0,t.jsx)("strong",{style:r,children:a}):(0,t.jsx)("span",{style:r,children:a})},n.Link=function({children:e,target:a="_blank",href:r,className:n,onClick:s,style:i}){return(0,t.jsx)("a",{onClick:s,href:r,target:a,rel:"noopener noreferrer",style:i,children:e})},e.s(["default",0,n],418638);var s=e.i(389959);let i=(0,s.createContext)({type:"text"}),l=e=>{let{type:a}=e;return(0,t.jsx)(i.Provider,{value:{type:a},children:e.children})},o=()=>{let e=(0,s.useContext)(i);if(void 0===e)throw Error("MenuContext must be used within a MenuContextProvider.");return e};function c({children:e,className:a,ulClassName:r,style:n,type:s="text"}){return(0,t.jsx)("nav",{role:"menu","aria-label":"Sidebar","aria-orientation":"vertical","aria-labelledby":"options-menu",className:a,style:n,children:(0,t.jsx)(l,{type:s,children:(0,t.jsx)("ul",{className:r,children:e})})})}c.Item=function({children:e,icon:n,active:s,rounded:i,onClick:l,doNotCloseOverlay:c=!1,showActiveBar:d=!1,style:u}){let h=(0,a.default)("menu"),{type:m}=o(),f=[h.item.base];f.push(h.item.variants[m].base),s?f.push(h.item.variants[m].active):f.push(h.item.variants[m].normal);let p=[h.item.content.base];s?p.push(h.item.content.active):p.push(h.item.content.normal);let x=[h.item.icon.base];return s?x.push(h.item.icon.active):x.push(h.item.icon.normal),(0,t.jsxs)("li",{role:"menuitem",className:(0,r.cn)("outline-none",f),style:u,onClick:l,"aria-current":s?"page":void 0,children:[n&&(0,t.jsx)("div",{className:`${x.join(" ")} min-w-fit`,children:n}),(0,t.jsx)("span",{className:p.join(" "),children:e})]})},c.Group=function({children:e,icon:r,title:n}){let s=(0,a.default)("menu"),{type:i}=o();return(0,t.jsxs)("div",{className:[s.group.base,s.group.variants[i]].join(" "),children:[r&&(0,t.jsx)("span",{className:s.group.icon,children:r}),(0,t.jsx)("span",{className:s.group.content,children:n}),e]})},c.Misc=function({children:e}){return(0,t.jsx)("div",{children:(0,t.jsx)(n.Text,{children:(0,t.jsx)("span",{children:e})})})},e.s(["default",0,c],744061)},862326,e=>{"use strict";var t=e.i(744061);e.s(["Menu",()=>t.default])},388147,799793,e=>{"use strict";var t=e.i(478902),a=e.i(587433),r=e.i(862326),n=e.i(215261),s=e.i(837710);let i=({name:e="",isActive:i,isExternal:l,icon:o,rightIcon:c,url:d="",target:u="_self",onClick:h,textClassName:m="",hoverText:f="",label:p})=>{let x=(0,t.jsx)(r.Menu.Item,{icon:o,rounded:!0,active:i,onClick:h,children:(0,t.jsxs)("div",{className:"flex w-full items-center justify-between gap-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-1 min-w-0 flex-1",title:f||("string"==typeof e?e:""),children:[(0,t.jsx)("span",{className:"truncate flex-1 min-w-0",children:e}),void 0!==p&&(0,t.jsx)(a.Badge,{variant:"new"===p.toLowerCase()?"success":"warning",className:"flex-shrink-0",children:p})]}),c&&(0,t.jsx)("div",{children:c})]})});return d?l?(0,t.jsx)(s.Button,{asChild:!0,block:!0,className:"!justify-start",type:"text",size:"small",icon:o,children:(0,t.jsx)(n.default,{href:d,target:"_blank",rel:"noreferrer",children:e})}):(0,t.jsx)(n.default,{href:d,className:"block",target:u,children:x}):x};e.s(["default",0,i],799793),e.s(["ProductMenu",0,({page:e,menu:n})=>(0,t.jsx)("div",{className:"flex flex-col space-y-8",children:(0,t.jsx)(r.Menu,{type:"pills",children:n.map((s,l)=>(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"my-6 space-y-8",children:(0,t.jsxs)("div",{className:"mx-3",children:[(0,t.jsx)(r.Menu.Group,{title:s.title?(0,t.jsxs)("div",{className:"flex flex-col space-y-2 uppercase font-mono",children:[(0,t.jsx)("span",{children:s.title}),s.isPreview&&(0,t.jsx)(a.Badge,{variant:"warning",children:"Not production ready"})]}):null}),(0,t.jsx)("div",{children:s.items.map(a=>{let r=a.pages?a.pages.includes(e??""):e===a.key;return(0,t.jsx)(i,{url:a.url,name:a.name,icon:a.icon,rightIcon:a.rightIcon,isActive:r,isExternal:a.isExternal,target:a.isExternal?"_blank":"_self",label:a.label},a.key)})})]})}),l!==n.length-1&&(0,t.jsx)("div",{className:"h-px w-full bg-border-overlay"})]},s.key||s.title))})})],388147)},127739,e=>{"use strict";var t=e.i(478902),a=e.i(709520),r=e.i(389959),n=e.i(843778);let s=(0,a.cva)(["mx-auto w-full @container px-6 xl:px-10"],{variants:{size:{small:"max-w-[768px]",default:"max-w-[1200px]",large:"max-w-[1600px]",full:"max-w-none"}},defaultVariants:{size:"default"}}),i=(0,r.forwardRef)(({className:e,size:a,...r},i)=>(0,t.jsx)("div",{ref:i,...r,className:(0,n.cn)(s({size:a}),e)}));i.displayName="PageContainer",e.s(["PageContainer",0,i])},456050,e=>{"use strict";var t=e.i(478902),a=e.i(709520),r=e.i(389959),n=e.i(843778),s=e.i(3259),i=e.i(127739);let l=(0,a.cva)(["flex flex-col gap-4 w-full"],{variants:{size:{default:"pt-12",small:"pt-12",large:"pt-12",full:"pt-6"}},defaultVariants:{size:"default"}}),o=(0,r.createContext)({size:"default"}),c=()=>(0,r.useContext)(o),d=({className:e,size:a,children:r,...s})=>{let i=a??"default";return(0,t.jsx)(o.Provider,{value:{size:i},children:(0,t.jsx)("div",{"data-slot":"page-header","data-size":i,className:(0,n.cn)(l({size:i}),e),...s,children:r})})},u=({className:e,children:a,...r})=>{let{size:l}=c();return(0,t.jsx)(i.PageContainer,{size:l,children:(0,t.jsx)(s.Breadcrumb,{"data-slot":"page-header-breadcrumb",className:(0,n.cn)("flex items-center gap-4 [&_li]:text-xs",e),...r,children:a})})};u.displayName="PageHeaderBreadcrumb";let h=({className:e,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-icon",className:(0,n.cn)("text-foreground-light",e),...a});h.displayName="PageHeaderIcon";let m=({className:e,children:a,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-summary",className:(0,n.cn)("flex flex-col gap-1",e),...r,children:a});m.displayName="PageHeaderSummary";let f=({className:e,children:a,...r})=>(0,t.jsx)("h1",{"data-slot":"page-header-title",className:(0,n.cn)("heading-title",e),...r,children:a}),p=({className:e,children:a,...r})=>(0,t.jsx)("div",{"data-slot":"page-header-description",className:(0,n.cn)("heading-subSection text-foreground-light",e),...r,children:a}),x=({className:e,children:a,...r})=>{let{size:s}=c();return(0,t.jsx)(i.PageContainer,{size:s,children:(0,t.jsx)("div",{"data-slot":"page-header-meta",className:(0,n.cn)("flex flex-col @xl:flex-row @xl:justify-between @xl:items-center gap-4",'[&>[data-slot="page-header-icon"]]:shrink-0','[&>[data-slot="page-header-summary"]]:flex-1',e),...r,children:a})})};x.displayName="PageHeaderMeta";let j=({className:e,...a})=>(0,t.jsx)("div",{"data-slot":"page-header-actions",className:(0,n.cn)("flex items-center gap-2 shrink-0",e),...a});j.displayName="PageHeaderAside";let g=({className:e,...a})=>{let{size:r}=c();return(0,t.jsx)(i.PageContainer,{size:r,className:(0,n.cn)("full"===r&&"border-b"),children:(0,t.jsx)("div",{"data-slot":"page-header-footer",className:(0,n.cn)("w-full [&>nav]:border-b-0","full"!==r&&"border-b",e),...a})})};g.displayName="PageHeaderNavigationTabs",e.s(["PageHeader",()=>d,"PageHeaderAside",()=>j,"PageHeaderBreadcrumb",()=>u,"PageHeaderDescription",()=>p,"PageHeaderIcon",()=>h,"PageHeaderMeta",()=>x,"PageHeaderNavigationTabs",()=>g,"PageHeaderSummary",()=>m,"PageHeaderTitle",()=>f])},902780,e=>{"use strict";var t=e.i(478902),a=e.i(215261),r=e.i(837710),n=e.i(843778),s=e.i(710483);e.s(["UnknownInterface",0,({urlBack:e,fullHeight:i=!0})=>(0,t.jsx)("div",{className:(0,n.cn)("w-full flex items-center justify-center",i&&"h-full"),children:(0,t.jsx)(s.Admonition,{type:"note",className:"max-w-xl",title:"Looking for something?",description:"We couldn't find the page that you're looking for",children:(0,t.jsx)(r.Button,{asChild:!0,type:"default",className:"mt-2",children:(0,t.jsx)(a.default,{href:e,children:"Head back"})})})})])},372378,e=>{"use strict";var t=e.i(478902),a=e.i(389959),r=e.i(843778);let n=(0,a.forwardRef)(({preTab:e,postTab:a,children:n,className:s,...i},l)=>(0,t.jsxs)("div",{ref:l,...i,className:(0,r.cn)("flex -space-x-px",s),children:[e&&(0,t.jsx)("div",{className:"border border-strong bg-surface-300 rounded-l-md px-3 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:e})}),(0,t.jsx)("div",{className:(0,r.cn)("flex-1",{"[&_input]:rounded-l-none [&_select]:rounded-l-none [&_textarea]:rounded-l-none":!!e,"[&_input]:rounded-r-none [&_select]:rounded-r-none [&_textarea]:rounded-r-none":!!a}),children:n}),a&&(0,t.jsx)("div",{className:"border border-strong bg-surface-300 rounded-r-md px-3 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-foreground-light text-xs font-mono",children:a})})]}));e.s(["PrePostTab",0,n])},14703,e=>{"use strict";var t=e.i(242882),a=e.i(356003),r=e.i(234745),n=e.i(10429),s=e.i(389959),i=e.i(294285);async function l({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:a,error:n}=await (0,r.get)("/platform/auth/{ref}/config",{params:{path:{ref:e}},signal:t});return n&&(0,r.handleError)(n),a}e.s(["getProjectAuthConfig",()=>l,"useAuthConfigPrefetch",0,({projectRef:e})=>{let t=(0,a.useQueryClient)();return(0,s.useCallback)(()=>{e&&t.prefetchQuery({queryKey:i.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t)})},[t,e])},"useAuthConfigQuery",0,({projectRef:e},{enabled:a=!0,...r}={})=>(0,t.useQuery)({queryKey:i.authKeys.authConfig(e),queryFn:({signal:t})=>l({projectRef:e},t),enabled:a&&n.IS_PLATFORM&&void 0!==e,...r})])},785951,e=>{"use strict";var t=e.i(478902),a=e.i(898452);e.i(128328);var r=e.i(657588),n=e.i(158639),s=e.i(388147),i=e.i(14703),l=e.i(912793),o=e.i(951138),c=e.i(825713),d=e.i(887902);let u=()=>{let e=(0,a.useRouter)(),{ref:o="default"}=(0,n.useParams)(),c=(0,r.useFlag)("authOverviewPage"),u=(0,r.useFlag)("EnableOAuth21"),{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:f,authenticationMultiFactor:p,authenticationAttackProtection:x,authenticationPerformance:j}=(0,l.useIsFeatureEnabled)(["authentication:sign_in_providers","authentication:rate_limits","authentication:emails","authentication:multi_factor","authentication:attack_protection","authentication:performance"]);(0,i.useAuthConfigPrefetch)({projectRef:o});let g=e.pathname.split("/")[4];return(0,t.jsx)(s.ProductMenu,{page:g,menu:(0,d.generateAuthMenu)(o,{authenticationSignInProviders:h,authenticationRateLimits:m,authenticationEmails:f,authenticationMultiFactor:p,authenticationAttackProtection:x,authenticationShowOverview:c,authenticationOauth21:u,authenticationPerformance:j})})},h=(0,o.withAuth)(({children:e})=>(0,t.jsx)(c.ProjectLayout,{title:"Authentication",product:"Authentication",productMenu:(0,t.jsx)(u,{}),isBlocking:!1,children:e}));e.s(["default",0,h])},309233,e=>{"use strict";var t=e.i(38429),a=e.i(356003),r=e.i(355901),n=e.i(234745),s=e.i(915993),i=e.i(294285);async function l({projectRef:e,config:t}){let{data:a,error:r}=await (0,n.patch)("/platform/auth/{ref}/config",{params:{path:{ref:e}},body:{...t}});return r&&(0,n.handleError)(r),a}e.s(["useAuthConfigUpdateMutation",0,({onSuccess:e,onError:n,...o}={})=>{let c=(0,a.useQueryClient)();return(0,t.useMutation)({mutationFn:e=>l(e),async onSuccess(t,a,r){let{projectRef:n}=a;await Promise.all([c.invalidateQueries({queryKey:i.authKeys.authConfig(n)}),c.invalidateQueries({queryKey:s.lintKeys.lint(n)})]),await e?.(t,a,r)},async onError(e,t,a){void 0===n?r.toast.error(`Failed to update auth configuration: ${e.message}`):n(e,t,a)},...o})}])},967074,e=>{"use strict";var t=e.i(334277),a=e.i(408891);function r(e,r,n){return void 0===r&&(r={}),void 0===n&&(n={}),function(s,i,l){try{return Promise.resolve(function(a,o){try{var c=(r.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](s,Object.assign({abortEarly:!1},r,{context:i}))).then(function(e){return l.shouldUseNativeValidation&&(0,t.validateFieldsNatively)({},l),{values:n.raw?s:e,errors:{}}}))}catch(e){return o(e)}return c&&c.then?c.then(void 0,o):c}(0,function(e){var r;if(!e.inner)throw e;return{values:{},errors:(0,t.toNestErrors)((r=!l.shouldUseNativeValidation&&"all"===l.criteriaMode,(e.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),r){var n=e[t.path].types,s=n&&n[t.type];e[t.path]=(0,a.appendErrors)(t.path,r,e,t.type,s?[].concat(s,t.message):t.message)}return e},{})),l)}}))}catch(e){return Promise.reject(e)}}}e.s(["yupResolver",()=>r])},42081,e=>{"use strict";let t="undefined"==typeof __SENTRY_DEBUG__||__SENTRY_DEBUG__;e.s(["DEBUG_BUILD",()=>t])},672296,e=>{"use strict";function t(e){return e.split("#")[0]}function a(e,t={}){let{maxDepth:r=3,redaction:n="[REDACTED]",truncationNotice:s="[REDACTED: max depth reached]",sensitiveKeys:i=[]}=t,l=new Set(["password","passwd","pwd","pass","secret","token","id_token","access_token","refresh_token","apikey","api_key","api-key","apiKey","key","privatekey","private_key","client_secret","clientSecret","auth","authorization","ssh_key","sshKey","bearer","session","cookie","csrf","xsrf","ip","ip_address","ipAddress","aws_access_key_id","aws_secret_access_key","gcp_service_account_key",...i].map(e=>e.toLowerCase())),o=[{re:/\b(?:(?:25[0-5]|2[0-4]\d|1?\d?\d)\.){3}(?:25[0-5]|2[0-4]\d|1?\d?\d)\b/g,reason:"ip"},{re:/\b(?:[A-Fa-f0-9]{1,4}:){2,7}[A-Fa-f0-9]{1,4}\b/g,reason:"ip6"},{re:/\b(AKI|ASI)A[0-9A-Z]{16}\b/g,reason:"aws_access_key_id"},{re:/\b[0-9A-Za-z/+]{40}\b/g,reason:"aws_secret_access_key_like"},{re:/\bBearer\s+[A-Za-z0-9\-._~+/]+=*\b/g,reason:"bearer"},{re:/\b[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\.[A-Za-z0-9-_]+?\b/g,reason:"jwt_like"},{re:/\b[A-Za-z0-9_\-]{24,64}\b/g,reason:"long_token"}],c=new WeakMap;function d(e){let t=e;for(let{re:e}of o)t=t.replace(e,n);return t}function u(e){return l.has(String(e).toLowerCase())}return e.map(e=>(function e(t,a){if(null==t||"number"==typeof t||"boolean"==typeof t||"bigint"==typeof t)return t;if("string"==typeof t)return d(t);if("function"==typeof t)return"[Function]";if(t instanceof Date)return t.toISOString();if(t instanceof RegExp)return t.toString();if(ArrayBuffer.isView(t)&&!(t instanceof DataView))return`[TypedArray byteLength=${t.byteLength}]`;if(t instanceof ArrayBuffer)return`[ArrayBuffer byteLength=${t.byteLength}]`;if(a>=r)return s;if("object"==typeof t){if(c.has(t))return"[Circular]";if(Array.isArray(t)){let r=[];c.set(t,r);for(let n=0;n<t.length;n++)r[n]=e(t[n],a+1);return r}if(function(e){if(null===e||"object"!=typeof e)return!1;let t=Object.getPrototypeOf(e);return t===Object.prototype||null===t}(t)){let r={};for(let[s,i]of(c.set(t,r),Object.entries(t)))u(s)?r[s]=n:r[s]=e(i,a+1);return r}if(t instanceof Map){let r=[];for(let[s,i]of(c.set(t,r),t.entries())){let t=u(s)?n:e(s,a+1),l=u(s)?n:e(i,a+1);r.push([t,l])}return r}if(t instanceof Set){let r=[];for(let n of(c.set(t,r),t.values()))r.push(e(n,a+1));return r}if(t instanceof URL)return t.toString();if(t instanceof Error){let e={name:t.name,message:d(t.message),stack:s};return c.set(t,e),e}try{return d(String(t))}catch{return d(Object.prototype.toString.call(t))}}return d(String(t))})(e,0))}e.s(["sanitizeArrayOfObjects",()=>a,"sanitizeUrlHashParams",()=>t])},914870,e=>{"use strict";var t=e.i(478902),a=e.i(902858);e.i(128328);var r=e.i(158639),n=e.i(967074),s=e.i(389959),i=e.i(408891),l=e.i(355901),o=e.i(26746),c=e.i(567558),d=e.i(693241),u=e.i(235458),h=e.i(14703),m=e.i(309233),f=e.i(2579),p=e.i(10429),x=e.i(592360),j=e.i(178527),g=e.i(837710),_=e.i(627069),b=e.i(24315),y=e.i(61863),v=e.i(428353),P=e.i(378277),A=e.i(372378),S=e.i(451031),E=e.i(831927),N=e.i(156722),F=e.i(719754),C=e.i(449123),M=e.i(290811),k=e.i(877555),T=e.i(108151),w=e.i(466472),L=e.i(538482),O=e.i(228027),H=e.i(280590);function R(e,t){return e?t?"Enabled":"Verify Enabled":"Disabled"}let B=[{label:"Enabled",value:"Enabled"},{label:"Verify Enabled",value:"Verify Enabled"},{label:"Disabled",value:"Disabled"}],D=e=>"Enabled"===e?{verifyEnabled:!0,enrollEnabled:!0}:"Verify Enabled"===e?{verifyEnabled:!0,enrollEnabled:!1}:{verifyEnabled:!1,enrollEnabled:!1},I=(0,o.object)({MFA_TOTP:(0,o.string)().required(),MFA_MAX_ENROLLED_FACTORS:(0,o.number)().min(0,"Must be a value 0 or larger").max(30,"Must be a value no greater than 30")}),z=(0,o.object)({MFA_PHONE:(0,o.string)().required(),MFA_PHONE_OTP_LENGTH:(0,o.number)().min(6,"Must be a value 6 or larger").max(30,"must be a value no greater than 30"),MFA_PHONE_TEMPLATE:(0,o.string)().required("SMS template is required.")}),V=(0,o.object)({MFA_ALLOW_LOW_AAL:(0,o.boolean)().required()}),U=()=>{let{ref:e}=(0,r.useParams)(),{data:o,error:U,isError:K,isPending:W}=(0,h.useAuthConfigQuery)({projectRef:e}),{mutate:q}=(0,m.useAuthConfigUpdateMutation)(),[$,G]=(0,s.useState)(!1),[Z,X]=(0,s.useState)(!1),[Q,Y]=(0,s.useState)(!1),[J,ee]=(0,s.useState)(!1),{can:et}=(0,f.useAsyncCheckPermissions)(a.PermissionAction.READ,"custom_config_gotrue"),{can:ea}=(0,f.useAsyncCheckPermissions)(a.PermissionAction.UPDATE,"custom_config_gotrue"),{hasAccess:er,isLoading:en}=(0,H.useCheckEntitlements)("auth.mfa_phone"),es=p.IS_PLATFORM&&!er,ei=o?.HOOK_SEND_SMS_URI!==null&&o?.HOOK_SEND_SMS_ENABLED===!0,el=o?.EXTERNAL_PHONE_ENABLED===!0,eo=(0,i.useForm)({resolver:(0,n.yupResolver)(I),defaultValues:{MFA_TOTP:"Enabled",MFA_MAX_ENROLLED_FACTORS:10}}),ec=(0,i.useForm)({resolver:(0,n.yupResolver)(z),defaultValues:{MFA_PHONE:"Disabled",MFA_PHONE_OTP_LENGTH:6,MFA_PHONE_TEMPLATE:"Your code is {{ .Code }}"}}),ed=(0,i.useForm)({resolver:(0,n.yupResolver)(V),defaultValues:{MFA_ALLOW_LOW_AAL:!1}});(0,s.useEffect)(()=>{o&&($||eo.reset({MFA_TOTP:R(o?.MFA_TOTP_VERIFY_ENABLED??!0,o?.MFA_TOTP_ENROLL_ENABLED??!0)||"Enabled",MFA_MAX_ENROLLED_FACTORS:o?.MFA_MAX_ENROLLED_FACTORS??10}),Z||ec.reset({MFA_PHONE:R(o?.MFA_PHONE_VERIFY_ENABLED||!1,o?.MFA_PHONE_ENROLL_ENABLED||!1)||"Disabled",MFA_PHONE_OTP_LENGTH:o?.MFA_PHONE_OTP_LENGTH||6,MFA_PHONE_TEMPLATE:o?.MFA_PHONE_TEMPLATE||"Your code is {{ .Code }}"}),Q||ed.reset({MFA_ALLOW_LOW_AAL:o?.MFA_ALLOW_LOW_AAL??!0}))},[o,$,Z,Q]);let eu=t=>{let a={...t};if(er){let{verifyEnabled:e,enrollEnabled:r}=D(t.MFA_PHONE);a={...a,MFA_PHONE_ENROLL_ENABLED:r,MFA_PHONE_VERIFY_ENABLED:e}}delete a.MFA_PHONE,X(!0),q({projectRef:e,config:a},{onError:e=>{l.toast.error(`Failed to update phone MFA settings: ${e?.message}`),X(!1)},onSuccess:()=>{l.toast.success("Successfully updated phone MFA settings"),X(!1)}})};if(K)return(0,t.jsx)(O.PageSection,{children:(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(c.default,{error:U,subject:"Failed to retrieve auth configuration"})})});if(!et)return(0,t.jsx)(O.PageSection,{children:(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(d.default,{resourceText:"view auth configuration settings"})})});if(W||en)return(0,t.jsx)(O.PageSection,{children:(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(T.GenericSkeletonLoader,{})})});let eh="Enabled"===ec.watch("MFA_PHONE")||"Verify Enabled"===ec.watch("MFA_PHONE"),em=o&&!o.MFA_PHONE_VERIFY_ENABLED&&eh;return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(O.PageSection,{children:[(0,t.jsx)(O.PageSectionMeta,{children:(0,t.jsx)(O.PageSectionSummary,{children:(0,t.jsx)(O.PageSectionTitle,{children:"Multi-Factor Authentication (MFA)"})})}),(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(v.Form_Shadcn_,{...eo,children:(0,t.jsx)("form",{onSubmit:eo.handleSubmit(t=>{let{verifyEnabled:a,enrollEnabled:r}=D(t.MFA_TOTP),n={...t,MFA_TOTP_ENROLL_ENABLED:r,MFA_TOTP_VERIFY_ENABLED:a};delete n.MFA_TOTP,G(!0),q({projectRef:e,config:n},{onError:e=>{l.toast.error(`Failed to update TOTP settings: ${e?.message}`),G(!1)},onSuccess:()=>{l.toast.success("Successfully updated TOTP settings"),G(!1)}})}),className:"space-y-4",children:(0,t.jsxs)(_.Card,{children:[(0,t.jsx)(_.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:eo.control,name:"MFA_TOTP",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"TOTP (App Authenticator)",description:"Control use of TOTP (App Authenticator) factors",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsxs)(C.Select_Shadcn_,{value:e.value,onValueChange:e.onChange,disabled:!ea,children:[(0,t.jsx)(N.SelectTrigger_Shadcn_,{children:(0,t.jsx)(F.SelectValue_Shadcn_,{placeholder:"Select status"})}),(0,t.jsx)(S.SelectContent_Shadcn_,{children:B.map(e=>(0,t.jsx)(E.SelectItem_Shadcn_,{value:e.value,children:e.label},e.value))})]})})})})}),(0,t.jsx)(_.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:eo.control,name:"MFA_MAX_ENROLLED_FACTORS",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"Maximum number of per-user MFA factors",description:"How many MFA factors can be enrolled at once per user.",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(A.PrePostTab,{postTab:"factors",children:(0,t.jsx)(P.Input_Shadcn_,{type:"number",min:0,max:30,...e,disabled:!ea})})})})})}),(0,t.jsxs)(_.CardFooter,{className:"justify-end space-x-2",children:[eo.formState.isDirty&&(0,t.jsx)(g.Button,{type:"default",onClick:()=>eo.reset(),children:"Cancel"}),(0,t.jsx)(g.Button,{type:"primary",htmlType:"submit",disabled:!ea||$||!eo.formState.isDirty,loading:$,children:"Save changes"})]})]})})})})]}),(0,t.jsxs)(O.PageSection,{children:[(0,t.jsx)(O.PageSectionMeta,{children:(0,t.jsx)(O.PageSectionSummary,{children:(0,t.jsx)(O.PageSectionTitle,{children:"SMS MFA"})})}),(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(v.Form_Shadcn_,{...ec,children:(0,t.jsx)("form",{onSubmit:e=>{e.preventDefault(),em?ee(!0):ec.handleSubmit(eu)()},children:(0,t.jsxs)(_.Card,{children:[(0,t.jsxs)(_.CardContent,{children:[(0,t.jsx)(y.FormField_Shadcn_,{control:ec.control,name:"MFA_PHONE",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"Phone",description:"Control use of phone factors",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsxs)(C.Select_Shadcn_,{value:e.value,onValueChange:e.onChange,disabled:!ea||!er,children:[(0,t.jsx)(N.SelectTrigger_Shadcn_,{children:(0,t.jsx)(F.SelectValue_Shadcn_,{placeholder:"Select status"})}),(0,t.jsx)(S.SelectContent_Shadcn_,{children:B.map(e=>(0,t.jsx)(E.SelectItem_Shadcn_,{value:e.value,children:e.label},e.value))})]})})})}),!(el||ei)&&eh&&(0,t.jsxs)(j.Alert_Shadcn_,{variant:"warning",className:"mt-3",children:[(0,t.jsx)(k.WarningIcon,{}),(0,t.jsx)(x.AlertTitle_Shadcn_,{children:"To use MFA with Phone you should set up a Phone provider or Send SMS Hook."})]})]}),(0,t.jsx)(_.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:ec.control,name:"MFA_PHONE_OTP_LENGTH",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"Phone OTP Length",description:"Number of digits in OTP",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(P.Input_Shadcn_,{type:"number",min:6,max:30,...e,disabled:!ea||!er})})})})}),(0,t.jsx)(_.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:ec.control,name:"MFA_PHONE_TEMPLATE",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"Phone verification message",description:"To format the OTP code use `{{ .Code }}`",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(P.Input_Shadcn_,{type:"text",...e,disabled:!ea||!er})})})})}),es&&(0,t.jsx)(u.UpgradeToPro,{fullWidth:!0,source:"authSmsMfa",featureProposition:"configure settings for SMS MFA",primaryText:"SMS MFA is only available on the Pro Plan and above",secondaryText:"Upgrade to the Pro plan to configure settings for SMS MFA"}),(0,t.jsxs)(_.CardFooter,{className:"justify-end space-x-2",children:[ec.formState.isDirty&&(0,t.jsx)(g.Button,{type:"default",onClick:()=>ec.reset(),children:"Cancel"}),(0,t.jsx)(g.Button,{type:"primary",htmlType:"submit",disabled:!ea||Z||!ec.formState.isDirty||!er,loading:Z,children:"Save changes"})]})]})})})})]}),(0,t.jsxs)(w.default,{visible:J,title:"Confirm SMS MFA",confirmLabel:"Confirm and save",onCancel:()=>ee(!1),onConfirm:()=>{ee(!1),ec.handleSubmit(eu)()},variant:"warning",children:["Enabling SMS MFA will result in an additional charge of ",(0,t.jsx)("span",{translate:"no",children:"$75"})," per month for the first project in the organization and an additional"," ",(0,t.jsx)("span",{translate:"no",children:"$10"})," per month for additional projects.",(0,t.jsx)("p",{className:"mt-2",children:"Billing will start immediately upon enabling this add-on, regardless of whether your customers are using SMS MFA."})]}),(0,t.jsxs)(O.PageSection,{children:[(0,t.jsx)(O.PageSectionMeta,{children:(0,t.jsx)(O.PageSectionSummary,{children:(0,t.jsx)(O.PageSectionTitle,{children:"Enhanced MFA Security"})})}),(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(v.Form_Shadcn_,{...ed,children:(0,t.jsx)("form",{onSubmit:ed.handleSubmit(t=>{let a={...t};Y(!0),q({projectRef:e,config:a},{onError:e=>{l.toast.error(`Failed to update phone MFA settings: ${e?.message}`),Y(!1)},onSuccess:()=>{l.toast.success("Successfully updated phone MFA settings"),Y(!1)}})}),children:(0,t.jsxs)(_.Card,{children:[(0,t.jsx)(_.CardContent,{children:(0,t.jsx)(y.FormField_Shadcn_,{control:ed.control,name:"MFA_ALLOW_LOW_AAL",render:({field:e})=>(0,t.jsx)(L.FormItemLayout,{layout:"flex-row-reverse",label:"Limit duration of AAL1 sessions",description:"A user's session will be terminated unless they verify one of their factors within 15 minutes of initial sign in. Recommendation: ON",children:(0,t.jsx)(b.FormControl_Shadcn_,{children:(0,t.jsx)(M.Switch,{checked:!e.value,onCheckedChange:t=>e.onChange(!t),disabled:!ea})})})})}),(0,t.jsxs)(_.CardFooter,{className:"justify-end space-x-2",children:[ed.formState.isDirty&&(0,t.jsx)(g.Button,{type:"default",onClick:()=>ed.reset(),children:"Cancel"}),(0,t.jsx)(g.Button,{type:"primary",htmlType:"submit",disabled:!ea||Q||!ed.formState.isDirty,loading:Z,children:"Save changes"})]})]})})})})]})]})};var K=e.i(785951),W=e.i(448710),q=e.i(902780),$=e.i(912793),G=e.i(127739),Z=e.i(456050);let X=()=>{let{ref:e}=(0,r.useParams)(),n=(0,$.useIsFeatureEnabled)("authentication:multi_factor"),{can:s,isSuccess:i}=(0,f.useAsyncCheckPermissions)(a.PermissionAction.READ,"custom_config_gotrue");return n?i&&!s?(0,t.jsx)(d.default,{isFullPage:!0,resourceText:"access your project's authentication settings"}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.PageHeader,{size:"default",children:(0,t.jsx)(Z.PageHeaderMeta,{children:(0,t.jsxs)(Z.PageHeaderSummary,{children:[(0,t.jsx)(Z.PageHeaderTitle,{children:"Multi-Factor Authentication (MFA)"}),(0,t.jsx)(Z.PageHeaderDescription,{children:"Requires users to provide additional verification factors to authenticate"})]})})}),(0,t.jsx)(G.PageContainer,{size:"default",children:i?(0,t.jsx)(U,{}):(0,t.jsx)(O.PageSection,{children:(0,t.jsx)(O.PageSectionContent,{children:(0,t.jsx)(T.GenericSkeletonLoader,{})})})})]}):(0,t.jsx)(q.UnknownInterface,{urlBack:`/project/${e}/auth/users`})};X.getLayout=e=>(0,t.jsx)(W.default,{children:(0,t.jsx)(K.default,{children:e})}),e.s(["default",0,X],914870)},888163,(e,t,a)=>{let r="/project/[ref]/auth/mfa";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(914870)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})},111410,e=>{e.v(t=>Promise.all(["static/chunks/a428d2b7e6671266.js","static/chunks/92a7c4be60dd12e3.js"].map(t=>e.l(t))).then(()=>t(677146)))},883471,e=>{e.v(t=>Promise.all(["static/chunks/69b2faaedd35af23.js"].map(t=>e.l(t))).then(()=>t(518769)))},587525,e=>{e.v(t=>Promise.all(["static/chunks/da2f61ca91d09b7f.js"].map(t=>e.l(t))).then(()=>t(127351)))},168845,e=>{e.v(t=>Promise.all(["static/chunks/99714db866f77205.js"].map(t=>e.l(t))).then(()=>t(238625)))},591393,e=>{e.v(t=>Promise.all(["static/chunks/e9ad074e72197584.js"].map(t=>e.l(t))).then(()=>t(217383)))},379416,e=>{e.v(t=>Promise.all(["static/chunks/d690909a90d04a2e.js"].map(t=>e.l(t))).then(()=>t(931066)))},15732,e=>{e.v(t=>Promise.all(["static/chunks/0d5256e667945be4.js"].map(t=>e.l(t))).then(()=>t(760545)))},957083,e=>{e.v(t=>Promise.all(["static/chunks/e7d07ff1ae210964.js"].map(t=>e.l(t))).then(()=>t(667558)))},926327,e=>{e.v(t=>Promise.all(["static/chunks/a5f6425a6c20e9a8.js"].map(t=>e.l(t))).then(()=>t(72947)))},207969,e=>{e.v(t=>Promise.all(["static/chunks/8dd7282c22f923f6.js"].map(t=>e.l(t))).then(()=>t(427328)))},992842,e=>{e.v(t=>Promise.all(["static/chunks/d064a48a1c7cf778.js"].map(t=>e.l(t))).then(()=>t(793794)))},239573,e=>{e.v(t=>Promise.all(["static/chunks/edc5d84148401903.js"].map(t=>e.l(t))).then(()=>t(210246)))},963685,e=>{e.v(t=>Promise.all(["static/chunks/92b20126e5ca0919.js"].map(t=>e.l(t))).then(()=>t(983756)))},665811,e=>{e.v(t=>Promise.all(["static/chunks/e37e25f8b82619ef.js"].map(t=>e.l(t))).then(()=>t(544836)))},369256,e=>{e.v(t=>Promise.all(["static/chunks/8296dc618dae72f0.js"].map(t=>e.l(t))).then(()=>t(930239)))},16037,e=>{e.v(t=>Promise.all(["static/chunks/3251b4bc539a554b.js"].map(t=>e.l(t))).then(()=>t(397698)))},616788,e=>{e.v(t=>Promise.all(["static/chunks/c6b81ab43a1d5d23.js"].map(t=>e.l(t))).then(()=>t(7346)))},315750,e=>{e.v(t=>Promise.all(["static/chunks/32c236321136eb7c.js"].map(t=>e.l(t))).then(()=>t(531289)))},460510,e=>{e.v(t=>Promise.all(["static/chunks/d91062943e6a7c30.js"].map(t=>e.l(t))).then(()=>t(276898)))},550265,e=>{e.v(t=>Promise.all(["static/chunks/75ff0e62b8a31d26.js"].map(t=>e.l(t))).then(()=>t(259714)))},830960,e=>{e.v(t=>Promise.all(["static/chunks/b44aa26556fee7df.js"].map(t=>e.l(t))).then(()=>t(882885)))},336744,e=>{e.v(t=>Promise.all(["static/chunks/2b0767b5c008139a.js"].map(t=>e.l(t))).then(()=>t(955268)))},63631,e=>{e.v(t=>Promise.all(["static/chunks/21a4706e1f02d90b.js"].map(t=>e.l(t))).then(()=>t(853630)))},396476,e=>{e.v(t=>Promise.all(["static/chunks/265a0c1d143bd3f1.js"].map(t=>e.l(t))).then(()=>t(62943)))},912072,e=>{e.v(t=>Promise.all(["static/chunks/c17c80e5efc43419.js"].map(t=>e.l(t))).then(()=>t(311301)))},730314,e=>{e.v(t=>Promise.all(["static/chunks/dcadd9d46d72282e.js","static/chunks/293ae4c32f2932e0.js","static/chunks/82dddbda1a808189.js","static/chunks/d3a06a9a43f3833e.js","static/chunks/87b9766a4d16d1da.js","static/chunks/cc8130a84ee9bc2c.css"].map(t=>e.l(t))).then(()=>t(686651)))},753940,e=>{e.v(t=>Promise.all(["static/chunks/046f60a3ac988a54.js"].map(t=>e.l(t))).then(()=>t(478124)))},724565,e=>{e.v(t=>Promise.all(["static/chunks/3ef67abf4c659c0b.js"].map(t=>e.l(t))).then(()=>t(341546)))}]);

//# debugId=f56668cd-6f95-8e35-97de-9fbb410cd4ba
//# sourceMappingURL=6faecf10742221ce.js.map