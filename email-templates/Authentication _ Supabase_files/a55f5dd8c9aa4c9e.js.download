;!function(){try { var e="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof global?global:"undefined"!=typeof window?window:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&((e._debugIds|| (e._debugIds={}))[n]="3a1ba721-5722-1e76-8e9b-b42eb6c984f2")}catch(e){}}();
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,198351,e=>{"use strict";var t=e.i(478902),s=e.i(902858);e.i(128328);var r=e.i(158639),a=e.i(774803),o=e.i(389959),n=e.i(355901),i=e.i(567558),l=e.i(513826),c=e.i(937942),d=e.i(38429),u=e.i(356003),h=e.i(234745);let m=e=>["auth",e,"third-party-auth"];async function x({projectRef:e,tpaId:t}){let{data:s,error:r}=await (0,h.del)("/v1/projects/{ref}/config/auth/third-party-auth/{tpa_id}",{params:{path:{ref:e,tpa_id:t}}});return r&&(0,h.handleError)(r),s}var g=e.i(242882);async function p({projectRef:e},t){if(!e)throw Error("projectRef is required");let{data:s,error:r}=await (0,h.get)("/v1/projects/{ref}/config/auth/third-party-auth",{params:{path:{ref:e}},signal:t});return r&&(0,h.handleError)(r),s}var j=e.i(2579),f=e.i(10429),b=e.i(843778),y=e.i(394983),w=e.i(466472),S=e.i(228027),_=e.i(88816),v=e.i(405554),C=e.i(657588),k=e.i(837710),N=e.i(874311);let D=e=>e?.type==="workos"?"workos":e?.oidc_issuer_url?.startsWith("https://securetoken.google.com/")?"firebase":e?.oidc_issuer_url?.includes("amazonaws.com")?"awsCognito":e?.oidc_issuer_url?.includes("auth0.com")?"auth0":e?.oidc_issuer_url?.includes(".clerk.accounts.dev")||e?.oidc_issuer_url?.startsWith("https://clerk.")?"clerk":"custom",A=e=>{switch(e){case"firebase":return"Firebase";case"auth0":return"Auth0";case"awsCognito":return"Amazon Cognito";case"clerk":return"Clerk";case"workos":return"WorkOS";default:return"Custom"}},F=e=>{switch(e){case"firebase":return`${f.BASE_PATH}/img/icons/firebase-icon.svg`;case"auth0":return`${f.BASE_PATH}/img/icons/auth0-icon.svg`;case"awsCognito":case"custom":default:return`${f.BASE_PATH}/img/icons/cognito-icon.svg`;case"clerk":return`${f.BASE_PATH}/img/icons/clerk-icon.svg`;case"workos":return`${f.BASE_PATH}/img/icons/workos-icon.svg`}},P=({disabled:e,type:s,onSelectIntegrationType:r})=>(0,t.jsxs)(N.DropdownMenuItem,{onClick:()=>r(s),className:(0,b.cn)("flex items-center gap-x-2 p-2",e&&"cursor-not-allowed"),disabled:e,children:[(0,t.jsx)(v.default,{src:F(s),width:16,height:16,alt:`${s} icon`}),(0,t.jsx)("span",{children:A(s)})]},s),I=({type:e="primary",align:s="end",onSelectIntegrationType:r})=>{let a=(0,C.useFlag)("isWorkOSTPAEnabled");return(0,t.jsxs)(N.DropdownMenu,{children:[(0,t.jsx)(N.DropdownMenuTrigger,{asChild:!0,children:(0,t.jsx)(k.Button,{type:e,iconRight:(0,t.jsx)(_.ChevronDown,{}),children:"Add provider"})}),(0,t.jsxs)(N.DropdownMenuContent,{align:s,className:"w-56",children:[(0,t.jsx)(N.DropdownMenuLabel,{children:"Select provider"}),(0,t.jsx)(N.DropdownMenuSeparator,{}),(0,t.jsx)(P,{type:"firebase",onSelectIntegrationType:r}),(0,t.jsx)(P,{type:"clerk",onSelectIntegrationType:r}),a&&(0,t.jsx)(P,{type:"workos",onSelectIntegrationType:r}),(0,t.jsx)(P,{type:"auth0",onSelectIntegrationType:r}),(0,t.jsx)(P,{type:"awsCognito",onSelectIntegrationType:r})]})]})};var T=e.i(532728),R=(e.i(211570),e.i(408891)),U=e.i(531837);async function L({projectRef:e,customJwks:t,jwksUrl:s,oidcIssuerUrl:r}){let{data:a,error:o}=await (0,h.post)("/v1/projects/{ref}/config/auth/third-party-auth",{params:{path:{ref:e}},body:{custom_jwks:t,jwks_url:s,oidc_issuer_url:r}});return o&&(0,h.handleError)(o),a}let z=({onSuccess:e,onError:t,...s}={})=>{let r=(0,u.useQueryClient)();return(0,d.useMutation)({mutationFn:e=>L(e),async onSuccess(t,s,a){let{projectRef:o}=s;await r.invalidateQueries({queryKey:m(o)}),await e?.(t,s,a)},async onError(e,s,r){void 0===t?n.toast.error(`Failed to create third party auth integration: ${e.message}`):t(e,s,r)},...s})};var B=e.i(253214),E=e.i(24315),$=e.i(61863),O=e.i(428353),W=e.i(378277),H=e.i(479095),M=e.i(538482);let q="create-auth0-auth-integration-form",J=U.object({enabled:U.boolean(),auth0DomainName:U.string().trim().min(1).regex(/^[A-Za-z0-9-.]+$/,"Project IDs should only have alphanumeric characters and hyphens.")}),V=({visible:e,onClose:s,onDelete:a})=>{let{ref:i}=(0,r.useParams)(),{mutate:l,isPending:c}=z({onSuccess:()=>{n.toast.success("Successfully created a new Auth0 Auth integration."),s()}}),d=(0,R.useForm)({resolver:(0,T.zodResolver)(J),defaultValues:{enabled:!0,auth0DomainName:""}});(0,o.useEffect)(()=>{e&&(d.reset({enabled:!0,auth0DomainName:""}),setTimeout(()=>{d.setFocus("auth0DomainName")},25))},[e]);let u=async e=>{l({projectRef:i,oidcIssuerUrl:`https://${e.auth0DomainName}.auth0.com`})};return(0,t.jsx)(B.Dialog,{open:e,onOpenChange:()=>s(),children:(0,t.jsxs)(B.DialogContent,{children:[(0,t.jsx)(B.DialogHeader,{children:(0,t.jsx)(B.DialogTitle,{className:"truncate",children:"Add new Auth0 connection"})}),(0,t.jsx)(H.Separator,{}),(0,t.jsx)(B.DialogSection,{children:(0,t.jsx)(O.Form_Shadcn_,{...d,children:(0,t.jsxs)("form",{id:q,onSubmit:d.handleSubmit(u),className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"This will enable a JWT token from your Auth0 project to access data from this Supabase project."}),(0,t.jsx)($.FormField_Shadcn_,{control:d.control,name:"auth0DomainName",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"Auth0 domain name",children:(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsx)(k.Button,{type:"default",size:"small",className:"px-2 text-foreground-light rounded-r-none",onClick:()=>d.setFocus("auth0DomainName"),children:"https://"}),(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(W.Input_Shadcn_,{className:"border-l-0 rounded-none border-r-0 z-50",...e})}),(0,t.jsx)(k.Button,{type:"default",size:"small",className:"px-2 text-foreground-light rounded-l-none",onClick:()=>d.setFocus("auth0DomainName"),children:".auth0.com"})]})})},"auth0DomainName")]})})}),(0,t.jsxs)(B.DialogFooter,{children:[!1,(0,t.jsx)(k.Button,{disabled:c,type:"default",onClick:()=>s(),children:"Cancel"}),(0,t.jsx)(k.Button,{form:q,htmlType:"submit",disabled:c,loading:c,children:"Create connection"})]})]})})};var Z=e.i(370410),K=e.i(365257),Y=e.i(703526),Q=e.i(917007),X=e.i(920432),G=e.i(549815),ee=e.i(911509),et=e.i(866205),es=e.i(793912),er=e.i(135144),ea=e.i(689805),eo=e.i(396831);let en=["af-south-1","ap-northeast-1","ap-northeast-2","ap-northeast-3","ap-south-1 ","ap-south-2 ","ap-southeast-1","ap-southeast-2","ap-southeast-3","ap-southeast-4","ca-central-1","eu-central-1","eu-central-2","eu-north-1","eu-south-1","eu-south-2","eu-west-1","eu-west-2","eu-west-3","il-central-1","me-central-1","me-south-1","sa-east-1","us-east-1","us-east-2","us-gov-west-1","us-west-1","us-west-2"],ei=({value:e,onChange:s})=>{let[r,a]=(0,o.useState)(!1);return(0,t.jsxs)(ea.Popover_Shadcn_,{open:r,onOpenChange:a,children:[(0,t.jsx)(er.PopoverTrigger_Shadcn_,{asChild:!0,children:(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(k.Button,{type:"default",role:"combobox",className:(0,b.cn)("w-full justify-between",!e&&"text-muted-foreground"),size:"small",iconRight:(0,t.jsx)(K.ChevronsUpDown,{className:"ml-2 h-4 w-4 shrink-0 opacity-50",strokeWidth:1}),children:e??"Select a region"})})}),(0,t.jsx)(es.PopoverContent_Shadcn_,{className:"p-0",sameWidthAsTrigger:!0,children:(0,t.jsxs)(et.Command_Shadcn_,{children:[(0,t.jsx)(X.CommandInput_Shadcn_,{placeholder:"Search AWS regions..."}),(0,t.jsxs)(ee.CommandList_Shadcn_,{children:[(0,t.jsx)(Y.CommandEmpty_Shadcn_,{children:"No regions found."}),(0,t.jsx)(Q.CommandGroup_Shadcn_,{children:(0,t.jsx)(eo.ScrollArea,{className:"h-72",children:en.map(r=>(0,t.jsxs)(G.CommandItem_Shadcn_,{value:r,onSelect:t=>{s(t===e?"":t),a(!1)},children:[(0,t.jsx)(Z.Check,{className:(0,b.cn)("mr-2 h-4 w-4",r===e?"opacity-100":"opacity-0")}),r]},r))})})]})]})})]})},el="create-aws-cognito-auth-integration-form",ec=U.object({enabled:U.boolean(),awsCognitoUserPoolId:U.string().trim().min(1).regex(/^[A-Za-z0-9-_]+$/,"The project ID contains invalid characters."),awsRegion:U.string()}),ed=({visible:e,onClose:s,onDelete:a})=>{let{ref:i}=(0,r.useParams)(),{mutate:l,isPending:c}=z({onSuccess:()=>{n.toast.success("Successfully created a new Amazon Cognito Auth integration."),s()}}),d=(0,R.useForm)({resolver:(0,T.zodResolver)(ec),defaultValues:{enabled:!0,awsCognitoUserPoolId:"",awsRegion:"us-east-1"}});(0,o.useEffect)(()=>{e&&(d.reset({enabled:!0,awsCognitoUserPoolId:"",awsRegion:"us-east-1"}),setTimeout(()=>{d.setFocus("awsCognitoUserPoolId")},25))},[e]);let u=async e=>{l({projectRef:i,oidcIssuerUrl:`https://cognito-idp.${e.awsRegion}.amazonaws.com/${e.awsCognitoUserPoolId}`})},h=d.watch("awsRegion");return(0,t.jsx)(B.Dialog,{open:e,onOpenChange:()=>s(),children:(0,t.jsxs)(B.DialogContent,{size:"large",children:[(0,t.jsxs)(B.DialogHeader,{children:[(0,t.jsx)(B.DialogTitle,{className:"truncate",children:"Add new Amazon Cognito Auth connection"}),(0,t.jsx)(B.DialogDescription,{children:"By adding an Amazon Cognito Auth connection, you can authenticate users using Amazon Cognito User Pools."})]}),(0,t.jsx)(H.Separator,{}),(0,t.jsx)(B.DialogSection,{children:(0,t.jsx)(O.Form_Shadcn_,{...d,children:(0,t.jsxs)("form",{id:el,onSubmit:d.handleSubmit(u),className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"This will enable a JWT token from Amazon Cognito project to access data from this Supabase project."}),(0,t.jsx)($.FormField_Shadcn_,{control:d.control,name:"awsCognitoUserPoolId",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"Amazon Cognito User Pool ID",children:(0,t.jsxs)("div",{className:"flex flex-row",children:[(0,t.jsxs)(k.Button,{type:"default",size:"small",className:"px-2 text-foreground-light rounded-r-none",onClick:()=>d.setFocus("awsCognitoUserPoolId"),children:["https://cognito-idp.",h,".amazonaws.com/"]}),(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(W.Input_Shadcn_,{className:"rounded-l-none border-l-0 z-50",...e})})]})})},"awsCognitoUserPoolId"),(0,t.jsx)($.FormField_Shadcn_,{control:d.control,name:"awsRegion",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"AWS Region",children:(0,t.jsx)(ei,{value:e.value,onChange:e.onChange})})})]})})}),(0,t.jsxs)(B.DialogFooter,{children:[!1,(0,t.jsx)(k.Button,{disabled:c,type:"default",onClick:()=>s(),children:"Cancel"}),(0,t.jsx)(k.Button,{form:el,htmlType:"submit",disabled:c,loading:c,children:"Create connection"})]})]})})};var eu=e.i(249909);let eh="create-firebase-auth-integration-form",em=U.object({enabled:U.boolean(),domain:U.string()}).superRefine((e,t)=>{e.domain.match(/https:\/\/clerk([.][a-z0-9-]+){2,}\/?/)||e.domain.match(/https:\/\/[a-z0-9-]+[.]clerk[.]accounts[.]dev\/?$/)||t.addIssue({code:eu.ZodIssueCode.invalid_string,path:["domain"],message:"Production Clerk domains use HTTPS and start with the clerk subdomain (https://clerk.example.com). Development Clerk domains use HTTPS and end with .clerk.accounts.dev (https://example.clerk.accounts.dev).",validation:"regex"})}),ex=({visible:e,onClose:s,onDelete:a})=>{let{ref:i}=(0,r.useParams)(),{mutate:l,isPending:d}=z({onSuccess:()=>{n.toast.success("Successfully created a new Clerk integration."),s()}}),u=(0,R.useForm)({resolver:(0,T.zodResolver)(em),defaultValues:{enabled:!0,domain:""}});(0,o.useEffect)(()=>{e&&(u.reset({enabled:!0,domain:""}),setTimeout(()=>{u.setFocus("domain")},25))},[e]);let h=async e=>{l({projectRef:i,oidcIssuerUrl:e.domain})};return(0,t.jsx)(B.Dialog,{open:e,onOpenChange:()=>s(),children:(0,t.jsxs)(B.DialogContent,{children:[(0,t.jsx)(B.DialogHeader,{children:(0,t.jsx)(B.DialogTitle,{className:"truncate",children:"Add new Clerk connection"})}),(0,t.jsx)(H.Separator,{}),(0,t.jsx)(B.DialogSection,{children:(0,t.jsx)(O.Form_Shadcn_,{...u,children:(0,t.jsxs)("form",{id:eh,onSubmit:u.handleSubmit(h),className:"space-y-4",children:[(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:["Register your Clerk domain. Visit"," ",(0,t.jsx)(c.InlineLink,{href:"https://dashboard.clerk.com/setup/supabase",target:"_blank",rel:"noopener",children:"Clerk's Connect with Supabase page"})," ","to configure your Clerk instance."]}),(0,t.jsx)($.FormField_Shadcn_,{control:u.control,name:"domain",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"Clerk Domain",children:(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(W.Input_Shadcn_,{...e,placeholder:"https://clerk.example.com or https://example.clerk.accounts.dev"})})})},"domain")]})})}),(0,t.jsxs)(B.DialogFooter,{children:[(0,t.jsx)(k.Button,{disabled:d,type:"default",onClick:()=>s(),children:"Cancel"}),(0,t.jsx)(k.Button,{form:eh,htmlType:"submit",disabled:d,loading:d,children:"Create connection"})]})]})})},eg="create-firebase-auth-integration-form",ep=U.object({enabled:U.boolean(),firebaseProjectId:U.string().trim().min(1).regex(/^[A-Za-z0-9-]+$/,"The project ID contains invalid characters.")}),ej=({visible:e,onClose:s,onDelete:a})=>{let{ref:i}=(0,r.useParams)(),{mutate:l,isPending:c}=z({onSuccess:()=>{n.toast.success("Successfully created a new Firebase Auth integration."),s()}}),d=(0,R.useForm)({resolver:(0,T.zodResolver)(ep),defaultValues:{enabled:!0,firebaseProjectId:""}});(0,o.useEffect)(()=>{e&&(d.reset({enabled:!0,firebaseProjectId:""}),setTimeout(()=>{d.setFocus("firebaseProjectId")},25))},[e]);let u=async e=>{l({projectRef:i,oidcIssuerUrl:`https://securetoken.google.com/${e.firebaseProjectId}`})};return(0,t.jsx)(B.Dialog,{open:e,onOpenChange:()=>s(),children:(0,t.jsxs)(B.DialogContent,{children:[(0,t.jsx)(B.DialogHeader,{children:(0,t.jsx)(B.DialogTitle,{className:"truncate",children:"Add new Firebase Auth connection"})}),(0,t.jsx)(H.Separator,{}),(0,t.jsx)(B.DialogSection,{children:(0,t.jsx)(O.Form_Shadcn_,{...d,children:(0,t.jsxs)("form",{id:eg,onSubmit:d.handleSubmit(u),className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"This will enable a JWT token from a specific Firebase project to access data from this Supabase project."}),(0,t.jsx)($.FormField_Shadcn_,{control:d.control,name:"firebaseProjectId",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"Firebase Auth Project ID",children:(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(W.Input_Shadcn_,{...e})})})},"firebaseProjectId")]})})}),(0,t.jsxs)(B.DialogFooter,{children:[!1,(0,t.jsx)(k.Button,{disabled:c,type:"default",onClick:()=>s(),children:"Cancel"}),(0,t.jsx)(k.Button,{form:eg,htmlType:"submit",disabled:c,loading:c,children:"Create connection"})]})]})})},ef="create-work-os-integration-form",eb=U.object({enabled:U.boolean(),issuerURL:U.string().trim().min(1).regex(/^https:\/\/(api.workos.com|[a-zA-Z0-9-]+([.][a-zA-Z0-9-]+){2,})\/(sso|user_management)\/(client|project)_[0-7][0-9A-HJKMNP-TV-Z]{25}\/?$/,"WorkOS URL contains invalid characters or does not have the correct structure.")}),ey=({visible:e,onClose:s,onDelete:a})=>{let{ref:i}=(0,r.useParams)(),{mutate:l,isPending:c}=z({onSuccess:()=>{n.toast.success("Successfully created a new WorkOS integration."),s()}}),d=(0,R.useForm)({resolver:(0,T.zodResolver)(eb),defaultValues:{enabled:!0,issuerURL:""}});(0,o.useEffect)(()=>{e&&(d.reset({enabled:!0,issuerURL:""}),setTimeout(()=>{d.setFocus("issuerURL")},25))},[e]);let u=async e=>{l({projectRef:i,oidcIssuerUrl:e.issuerURL})};return(0,t.jsx)(B.Dialog,{open:e,onOpenChange:()=>s(),children:(0,t.jsxs)(B.DialogContent,{children:[(0,t.jsx)(B.DialogHeader,{children:(0,t.jsx)(B.DialogTitle,{className:"truncate",children:"Add new WorkOS connection"})}),(0,t.jsx)(H.Separator,{}),(0,t.jsx)(B.DialogSection,{children:(0,t.jsx)(O.Form_Shadcn_,{...d,children:(0,t.jsxs)("form",{id:ef,onSubmit:d.handleSubmit(u),className:"space-y-4",children:[(0,t.jsx)("p",{className:"text-sm text-foreground-light",children:"Enables a JWT from WorkOS to access data from this Supabase project."}),(0,t.jsx)($.FormField_Shadcn_,{control:d.control,name:"issuerURL",render:({field:e})=>(0,t.jsx)(M.FormItemLayout,{label:"WorkOS Issuer URL",description:"Obtain your issuer URL from the WorkOS dashboard.",children:(0,t.jsx)(E.FormControl_Shadcn_,{children:(0,t.jsx)(W.Input_Shadcn_,{...e,placeholder:"https://api.workos.com/user_management/client_ABCDEFGHIJKLMNOPQRSTUVWXYZ"})})})},"issuerURL")]})})}),(0,t.jsxs)(B.DialogFooter,{children:[!1,(0,t.jsx)(k.Button,{disabled:c,type:"default",onClick:()=>s(),children:"Cancel"}),(0,t.jsx)(k.Button,{form:ef,htmlType:"submit",disabled:c,loading:c,children:"Create connection"})]})]})})};var ew=e.i(587433);let eS=({type:e,integration:s})=>{switch(e){case"firebase":{let e=s.oidc_issuer_url?.replace("https://securetoken.google.com/","")||"";return(0,t.jsxs)("div",{className:"text-sm flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"Firebase Project ID"}),(0,t.jsx)("span",{className:"text-foreground",children:e})]})}case"auth0":let r=s.oidc_issuer_url?.replace("https://","").replace(".auth0.com","")||"";return(0,t.jsxs)("div",{className:"text-sm flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"Auth0 Domain Name"}),(0,t.jsx)("span",{className:"text-foreground",children:r})]});case"awsCognito":{let e=s.oidc_issuer_url?.split(".").filter(e=>en.includes(e))[0]||"",r=s.oidc_issuer_url?.split("/").filter(t=>t.startsWith(e||""))[0]||"";return(0,t.jsxs)("div",{className:"text-sm flex flex-col gap-y-2",children:[(0,t.jsxs)("div",{className:"flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"Region"}),(0,t.jsx)("span",{className:"text-foreground",children:e})]}),(0,t.jsxs)("div",{className:"flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"User Pool ID"}),(0,t.jsx)("span",{className:"text-foreground",children:r})]})]})}case"clerk":return(0,t.jsxs)("div",{className:"text-sm flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"Domain"}),(0,t.jsx)("span",{className:"text-foreground",children:s?.oidc_issuer_url??""})]});case"workos":return(0,t.jsxs)("div",{className:"text-sm flex flex-row gap-x-4",children:[(0,t.jsx)("span",{className:"text-foreground-light w-36",children:"Issuer URL"}),(0,t.jsx)("span",{className:"text-foreground",children:s?.oidc_issuer_url??""})]});default:return(0,t.jsx)(t.Fragment,{children:"Custom"})}},e_=({integration:e,canUpdateConfig:s,onDelete:r})=>{let a=D(e);return"custom"===a?null:(0,t.jsx)(t.Fragment,{children:(0,t.jsxs)("div",{className:"bg-surface-100 border overflow-hidden shadow px-5 py-4 flex flex-row first:rounded-t-md last:rounded-b-md space-x-4",children:[(0,t.jsx)("div",{className:"py-1",children:(0,t.jsx)(v.default,{src:F(a),width:21,height:21,alt:`${a} icon`})}),(0,t.jsxs)("div",{className:"flex flex-col flex-0 overflow-y-auto w-full gap-y-4",children:[(0,t.jsxs)("div",{className:"text-sm flex flex-col",children:[(0,t.jsx)("span",{className:"text-foreground",children:A(a)}),(0,t.jsx)("div",{className:"text-foreground-lighter",children:(e=>{switch(e){case"firebase":return(0,t.jsxs)(t.Fragment,{children:["Allow users to use Supabase with Firebase project. You'll need to setup RLS policies for all tables that you want to access with a Firebase JWT token. Additionally, you'll need to add custom code to set the ",(0,t.jsx)("code",{children:"authenticated"})," role to all your present and future users. You can read more in the"," ",(0,t.jsx)("a",{className:"hover:decoration-brand underline hover:text-foreground transition",href:`${f.DOCS_URL}/guides/auth`,children:"documentation"}),"."]});case"auth0":return(0,t.jsxs)(t.Fragment,{children:["Allow users to use Supabase with Auth0 project. Additional setup may be required. You can read more in the"," ",(0,t.jsx)("a",{className:"hover:decoration-brand underline hover:text-foreground transition",href:`${f.DOCS_URL}/guides/auth`,children:"documentation"}),"."]});case"awsCognito":return(0,t.jsxs)(t.Fragment,{children:["Allow users to use Supabase with an Amazon Cognito. Additional setup may be required. You can read more in the"," ",(0,t.jsx)("a",{className:"hover:decoration-brand underline hover:text-foreground transition",href:`${f.DOCS_URL}/guides/auth/third-party/aws-cognito`,children:"documentation"}),"."]});case"clerk":return(0,t.jsxs)(t.Fragment,{children:["Allow users to use Supabase with Clerk. Additional setup may be required. You can read more in the"," ",(0,t.jsx)("a",{className:"hover:decoration-brand underline hover:text-foreground transition",href:`${f.DOCS_URL}/guides/auth/third-party/clerk`,children:"documentation"}),"."]});case"workos":return(0,t.jsxs)(t.Fragment,{children:["Allow users to use Supabase with WorkOS. Additional setup may be required. You can read more in the"," ",(0,t.jsx)("a",{className:"hover:decoration-brand underline hover:text-foreground transition",href:`${f.DOCS_URL}/guides/auth/third-party/workos`,children:"documentation"}),"."]});default:return"Custom"}})(a)})]}),(0,t.jsx)(eS,{type:a,integration:e}),(0,t.jsx)("div",{children:(0,t.jsx)(k.Button,{type:"danger",disabled:!s,onClick:()=>r(),children:"Delete integration"})})]}),(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)(ew.Badge,{className:"space-x-1",variant:"success",children:[(0,t.jsx)("div",{className:"h-3.5 w-3.5 bg-brand rounded-full flex justify-center items-center",children:(0,t.jsx)(Z.Check,{className:"h-2 w-2 text-background-overlay",strokeWidth:6})}),(0,t.jsx)("span",{children:"Enabled"})]})})]})})},ev=()=>{let{ref:e}=(0,r.useParams)(),{data:h,isPending:_,isError:v,isSuccess:C,error:k}=(({projectRef:e},{enabled:t=!0,...s}={})=>(0,g.useQuery)({queryKey:m(e),queryFn:({signal:t})=>p({projectRef:e},t),enabled:t&&void 0!==e,...s}))({projectRef:e}),N=h||[],[F,P]=(0,o.useState)(),[T,R]=(0,o.useState)(),{mutateAsync:U}=(({onSuccess:e,onError:t,...s}={})=>{let r=(0,u.useQueryClient)();return(0,d.useMutation)({mutationFn:e=>x(e),async onSuccess(t,s,a){let{projectRef:o}=s;await r.invalidateQueries({queryKey:m(o)}),await e?.(t,s,a)},async onError(e,s,r){void 0===t?n.toast.error(`Failed to delete third party auth integration: ${e.message}`):t(e,s,r)},...s})})(),{can:L}=(0,j.useAsyncCheckPermissions)(s.PermissionAction.UPDATE,"custom_config_gotrue");return v?(0,t.jsx)(i.default,{error:k,subject:"Failed to retrieve auth configuration for Third-Party Auth Integrations"}):(0,t.jsxs)(S.PageSection,{children:[(0,t.jsxs)(S.PageSectionMeta,{children:[(0,t.jsxs)(S.PageSectionSummary,{children:[(0,t.jsx)(S.PageSectionTitle,{children:"Third-Party Auth"}),(0,t.jsxs)(S.PageSectionDescription,{children:["Billing is based on the number of monthly active users (MAUs) requesting your API throughout the billing period."," ",(0,t.jsx)(c.InlineLink,{href:`${f.DOCS_URL}/guides/platform/manage-your-usage/monthly-active-users-third-party`,children:"Learn more"})]})]}),(0,t.jsxs)(S.PageSectionAside,{children:[(0,t.jsx)(l.DocsButton,{href:`${f.DOCS_URL}/guides/auth/third-party/overview`}),(0,t.jsx)(I,{onSelectIntegrationType:P})]})]}),(0,t.jsxs)(S.PageSectionContent,{children:[_&&(0,t.jsx)("div",{className:(0,b.cn)("border rounded border-default px-20 py-16 flex flex-col items-center justify-center space-y-4"),children:(0,t.jsx)(a.Loader2,{size:24,className:"animate-spin"})}),C?0===N.length?(0,t.jsx)(y.EmptyStatePresentational,{title:"Add an authentication provider",description:"Use third-party authentication systems based on JWTs to access your project.",children:(0,t.jsx)(I,{align:"center",type:"default",onSelectIntegrationType:P})}):(0,t.jsx)("div",{className:"-space-y-px",children:N.map(e=>(0,t.jsx)(e_,{integration:e,canUpdateConfig:L,onDelete:()=>{R(e)}},e.id))}):null,(0,t.jsx)(ej,{visible:"firebase"===F,onDelete:()=>{},onClose:()=>P(void 0)}),(0,t.jsx)(ed,{visible:"awsCognito"===F,onDelete:()=>{},onClose:()=>P(void 0)}),(0,t.jsx)(V,{visible:"auth0"===F,onDelete:()=>{},onClose:()=>P(void 0)}),(0,t.jsx)(ex,{visible:"clerk"===F,onDelete:()=>{},onClose:()=>P(void 0)}),(0,t.jsx)(ey,{visible:"workos"===F,onDelete:()=>{},onClose:()=>P(void 0)}),(0,t.jsx)(w.default,{size:"medium",visible:!!T,variant:"destructive",title:"Confirm to delete integration",confirmLabel:"Delete",confirmLabelLoading:"Deleting",onCancel:()=>R(void 0),onConfirm:async()=>{if(!T)return;let t=D(T);try{await U({projectRef:e,tpaId:T.id}),n.toast.success(`Successfully deleted ${A(t)}.`),R(void 0),P(void 0)}catch(e){n.toast.error(`Failed to delete ${A(t)}.`),console.error(e)}},children:(0,t.jsxs)("p",{className:"text-sm text-foreground-light",children:["Are you sure you want to delete the"," ",A(D(T))," ","integration?"]})})]})]})};var eC=e.i(785951),ek=e.i(529727),eN=e.i(448710),eD=e.i(693241),eA=e.i(902780),eF=e.i(912793),eP=e.i(127739);let eI=()=>{let{ref:e}=(0,r.useParams)(),{can:a,isSuccess:o}=(0,j.useAsyncCheckPermissions)(s.PermissionAction.READ,"custom_config_gotrue");return(0,eF.useIsFeatureEnabled)("authentication:third_party_auth")?(0,t.jsx)(ek.AuthProvidersLayout,{children:o&&!a?(0,t.jsx)(eD.default,{isFullPage:!0,resourceText:"access your project's auth provider settings"}):(0,t.jsx)(eP.PageContainer,{size:"default",className:"pb-16",children:(0,t.jsx)(ev,{})})}):(0,t.jsx)(eC.default,{children:(0,t.jsx)(eA.UnknownInterface,{urlBack:`/project/${e}/auth/providers`})})};eI.getLayout=e=>(0,t.jsx)(eN.default,{children:e}),e.s(["default",0,eI],198351)},787090,(e,t,s)=>{let r="/project/[ref]/auth/third-party";(window.__NEXT_P=window.__NEXT_P||[]).push([r,()=>e.r(198351)]),t.hot&&t.hot.dispose(function(){window.__NEXT_P.push([r])})}]);

//# debugId=3a1ba721-5722-1e76-8e9b-b42eb6c984f2
//# sourceMappingURL=6d24c433e9a79766.js.map